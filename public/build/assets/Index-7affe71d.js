import{k as N,K as I,p as B,O as D,q as U,f as l,a as c,u as m,w as b,F as h,s as A,o as s,Z as E,b as r,c as u,d as T,t as p,g as i,m as g,v,x as q,y as w}from"./app-551012d8.js";import{_ as z}from"./AuthenticatedLayout-876c1694.js";import{_ as K}from"./Breadcrumb-f8dcf550.js";import{_ as L}from"./TextInput-4b8270d6.js";import{_ as M}from"./PrimaryButton-bd076b11.js";import{_ as R}from"./SelectInput-de862fb7.js";import{_ as Z}from"./DangerButton-1248510a.js";import{r as G,a as H,_ as J}from"./Pagination-dcee69fa.js";import Q from"./Create-45f689ec.js";import W from"./Edit-a298d493.js";import X from"./Delete-1aa32846.js";import{_ as Y}from"./Checkbox-f37bd788.js";import{_ as F}from"./InfoButton-f9740252.js";import{n as x,f as P}from"./global-6d1c7c87.js";import{r as ee}from"./PencilIcon-7035d21d.js";import"./index-6dbb85e0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./open-closed-305ccb86.js";import"./Toast-07128877.js";/* empty css                                              */import"./InputError-23c0a787.js";import"./InputLabel-8615b764.js";import"./Modal-e8455b5b.js";import"./SecondaryButton-ec5b0153.js";/* empty css             */import"./vue-select.es-e7a5a940.js";/* empty css                   */const te={class:"space-y-4"},se={class:"px-4 sm:px-0"},re={class:"rounded-lg overflow-hidden w-fit"},oe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ae={class:"flex justify-between p-2"},ne={class:"flex space-x-2"},de={class:"overflow-x-auto scrollbar-table"},le={key:0,class:"w-full"},ie={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},pe={class:"dark:bg-gray-900/50 text-left"},ce={class:"px-2 py-4 text-center"},me={key:0,class:"px-2 py-4"},ue=r("th",{class:"px-2 py-4 text-center"},"#",-1),fe=["onClick"],ye={class:"flex justify-between items-center"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be=["value"],he={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},ke={class:"flex justify-center items-center"},ge={class:"rounded-md overflow-hidden"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={key:0},Pe={key:1},Se={key:2},$e={key:3},Oe={key:4},Ve={key:5},je={class:"border-t border-gray-600"},Ce={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3 text-center"},Ne=r("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"}," Total: ",-1),Ie={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Be={key:1,class:"text-center text-xl my-8"},De={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},lt={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object},setup(f){const o=f,{_:S,debounce:$,pickBy:O}=A,e=N({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},Proveedoro:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,dataSet:I().props.app.perpage}),V=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};B(()=>S.cloneDeep(e.params),$(()=>{let a=O(e.params);D.get(route("Proveedor.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const j=a=>{var n;a.target.checked===!1?e.selectedId=[]:(n=o.fromController)==null||n.data.forEach(_=>{e.selectedId.push(_.id)})},C=()=>{var a;return e.multipleSelect=((a=o.fromController)==null?void 0:a.data.length)===e.selectedId.length},y=[{order:"nombre",label:"nombre",type:"text"}];return(a,n)=>{const _=U("tooltip");return s(),l(h,null,[c(m(E),{title:o.title},null,8,["title"]),c(z,null,{default:b(()=>[c(K,{title:f.title,breadcrumbs:f.breadcrumbs,class:"capitalize text-xl font-bold"},null,8,["title","breadcrumbs"]),r("div",te,[r("div",se,[r("div",re,[a.can(["create proveedor"])?(s(),u(M,{key:0,class:"rounded-none",onClick:n[0]||(n[0]=t=>e.createOpen=!0)},{default:b(()=>[T(p(a.lang().button.new),1)]),_:1})):i("",!0),a.can(["create proveedor"])?(s(),u(Q,{key:1,numberPermissions:o.numberPermissions,titulos:y,show:e.createOpen,onClose:n[1]||(n[1]=t=>e.createOpen=!1),title:o.title,losSelect:o.losSelect},null,8,["numberPermissions","show","title","losSelect"])):i("",!0),a.can(["update proveedor"])?(s(),u(W,{key:2,titulos:y,numberPermissions:o.numberPermissions,show:e.editOpen,onClose:n[2]||(n[2]=t=>e.editOpen=!1),Proveedora:e.Proveedoro,title:o.title,losSelect:o.losSelect},null,8,["numberPermissions","show","Proveedora","title","losSelect"])):i("",!0),a.can(["delete proveedor"])?(s(),u(X,{key:3,numberPermissions:o.numberPermissions,show:e.deleteOpen,onClose:n[3]||(n[3]=t=>e.deleteOpen=!1),Proveedora:e.Proveedoro,title:o.title},null,8,["numberPermissions","show","Proveedora","title"])):i("",!0)])]),r("div",oe,[r("div",ae,[r("div",ne,[c(R,{modelValue:e.params.perPage,"onUpdate:modelValue":n[4]||(n[4]=t=>e.params.perPage=t),dataSet:e.dataSet},null,8,["modelValue","dataSet"])]),o.numberPermissions>1?(s(),u(L,{key:0,modelValue:e.params.search,"onUpdate:modelValue":n[5]||(n[5]=t=>e.params.search=t),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Nombre, codigo"},null,8,["modelValue"])):i("",!0)]),r("div",de,[o.total>0?(s(),l("table",le,[r("thead",ie,[r("tr",pe,[r("th",ce,[c(Y,{checked:e.multipleSelect,"onUpdate:checked":n[6]||(n[6]=t=>e.multipleSelect=t),onChange:j},null,8,["checked"])]),f.numberPermissions>1?(s(),l("th",me,"Accion")):i("",!0),ue,(s(),l(h,null,g(y,t=>r("th",{class:"px-2 py-4 cursor-pointer",onClick:k=>V(t.order)},[r("div",ye,[r("span",null,p(a.lang().label[t.label]),1),c(m(G),{class:"w-4 h-4"})])],8,fe)),64))])]),r("tbody",null,[(s(!0),l(h,null,g(o.fromController.data,(t,k)=>(s(),l("tr",{key:k,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[r("td",_e,[v(r("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:C,value:t.id,"onUpdate:modelValue":n[7]||(n[7]=d=>e.selectedId=d)},null,40,be),[[q,e.selectedId]])]),f.numberPermissions>1?(s(),l("td",he,[r("div",ke,[r("div",ge,[v((s(),u(F,{type:"button",onClick:d=>(e.editOpen=!0,e.Proveedoro=t),class:"px-2 py-1.5 rounded-none"},{default:b(()=>[c(m(ee),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[w,a.can(["update proveedor"])],[_,a.lang().tooltip.edit]]),v((s(),u(Z,{type:"button",onClick:d=>(e.deleteOpen=!0,e.Proveedoro=t),class:"px-2 py-1.5 rounded-none"},{default:b(()=>[c(m(H),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[w,a.can(["delete proveedor"])],[_,a.lang().tooltip.delete]])])])])):i("",!0),r("td",ve,p(++k),1),(s(),l(h,null,g(y,d=>r("td",we,[d.type==="text"||d.type==="string"?(s(),l("span",xe,p(t[d.order]),1)):i("",!0),d.type==="number"?(s(),l("span",Pe,p(m(x)(t[d.order],0,!1)),1)):i("",!0),d.type==="dinero"?(s(),l("span",Se,p(m(x)(t[d.order],0,!0)),1)):i("",!0),d.type==="date"?(s(),l("span",$e,p(m(P)(t[d.order],!1)),1)):i("",!0),d.type==="datetime"?(s(),l("span",Oe,p(m(P)(t[d.order],!0)),1)):i("",!0),d.type==="foreign"?(s(),l("span",Ve,p((t==null?void 0:t[d==null?void 0:d.nameid])??""),1)):i("",!0)])),64))]))),128)),r("tr",je,[f.numberPermissions>1?(s(),l("td",Ce," - ")):i("",!0),Ne,r("td",Ie,p(o.total),1)])])])):(s(),l("h2",Be,"Sin Registros"))]),o.total>0?(s(),l("div",De,[c(J,{links:o.fromController,filters:e.params},null,8,["links","filters"])])):i("",!0)])])]),_:1})],64)}}};export{lt as default};

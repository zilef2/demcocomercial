import{q as V,l as U,Q as j,s as T,N as B,v as I,f as l,o as t,a as c,u as m,Z as L,w as y,b as s,c as u,g as d,e as w,t as p,i as R,F as _,p as k,x,y as z,z as v}from"./app-Cq1znuMy.js";import{_ as M}from"./AuthenticatedLayout-Bq4Td3tW.js";import{_ as A}from"./Breadcrumb-TEnZiU5P.js";import{_ as Q}from"./TextInput-CxVKhdog.js";import{_ as P}from"./PrimaryButton-C4YOsuaB.js";import{_ as Z}from"./SelectInput-DjH0LW8I.js";import{_ as G}from"./DangerButton-BmGSuYS8.js";import{r as H,_ as J}from"./Pagination-BYYD9Bg-.js";import K from"./Create-C8RAmWk7.js";import W from"./Edit-0bBza4w2.js";import X from"./Delete-BS8-7ZZV.js";import{_ as Y}from"./Checkbox-BbUHU8JM.js";import{_ as F,r as ee}from"./InfoButton-B0TBRaLt.js";import{n as S,f as $}from"./global-C5jYNk1l.js";import{r as te}from"./TrashIcon-BT-VIv2L.js";import"./index-Dwl7jS47.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-BuN7yXbH.js";/* empty css                                              */import"./InputError-WpjbGGA7.js";import"./InputLabel-DT5ITww_.js";import"./Modal-qBkqJmba.js";import"./SecondaryButton-BnrCYek9.js";/* empty css             */import"./vue-select.es-wsHHmxmz.js";/* empty css                   */const re={class:"space-y-4"},se={class:"px-4 sm:px-0"},oe={class:"rounded-lg overflow-hidden w-fit"},ae={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ie={class:"flex justify-between p-2"},ne={class:"flex space-x-2"},le={class:"overflow-x-auto scrollbar-table"},de={key:0,class:"w-full"},pe={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ce={class:"dark:bg-gray-900/50 text-left"},me={class:"px-2 py-4 text-center"},ue={key:0,class:"px-2 py-4"},be=["onClick"],ye={class:"mx-2 flex justify-between items-center"},fe={class:"flex-wrap"},he={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},_e=["value"],ge={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},ke={class:"flex justify-center items-center"},xe={class:"rounded-md overflow-hidden"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ve={class:"max-w-lg overflow-hidden text-ellipsis"},Pe={key:0,class:"block px-2 flex-wrap"},Se={key:1},$e={key:2},qe={key:3},Ce={key:4},Oe={key:5},De={class:"border-t border-gray-600"},Ee={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3 text-center"},Ne={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ve={key:1,class:"text-center text-xl my-8"},Ue={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},nt={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object},setup(b){const{_:q,debounce:C,pickBy:O}=V,i=b,e=U({params:{search:i.filters.search,field:i.filters.field,order:i.filters.order,perPage:i.perPage},Equipoo:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,dataSet:j().props.app.perpage}),D=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};T(()=>q.cloneDeep(e.params),C(()=>{let a=O(e.params);B.get(route("Equipo.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const E=a=>{var o;a.target.checked===!1?e.selectedId=[]:(o=i.fromController)==null||o.data.forEach(h=>{e.selectedId.push(h.id)})},N=()=>{var a;return e.multipleSelect=((a=i.fromController)==null?void 0:a.data.length)===e.selectedId.length},f=[{order:"Descripcion",label:"Descripcion",type:"text"},{order:"Codigo",label:"Codigo",type:"text"},{order:"proveeNombre",label:"proveeNombre",type:"text"},{order:"Tipo Fabricante",label:"Tipo Fabricante",type:"text"},{order:"Referencia Fabricante",label:"Referencia Fabricante",type:"text"},{order:"Marca",label:"Marca",type:"text"},{order:"Unidad de Compra",label:"Unidad de Compra",type:"text"},{order:"Precio de Lista",label:"Precio de Lista",type:"number"},{order:"Fecha actualizacion",label:"Fecha actualizacion",type:"date"},{order:"Descuento Basico",label:"Descuento Basico",type:"number"},{order:"Descuento Proyectos",label:"Descuento Proyectos",type:"number"},{order:"Precio con Descuento",label:"Precio con Descuento",type:"number"},{order:"Precio con Descuento Proyecto",label:"Precio con Descuento Proyecto",type:"number"},{order:"Precio Ultima Compra",label:"Precio Ultima Compra",type:"number"},{order:"Precios de Listas",label:"Precios de Listas",type:"text"},{order:"Ruta Tiempos",label:"Ruta Tiempos",type:"text"},{order:"Tiempos Chapisteria",label:"Tiempos Chapisteria",type:"number"}];return(a,o)=>{const h=I("tooltip");return t(),l(_,null,[c(m(L),{title:i.title},null,8,["title"]),c(M,null,{default:y(()=>[c(A,{title:b.title,breadcrumbs:b.breadcrumbs,class:"capitalize text-xl font-bold"},null,8,["title","breadcrumbs"]),s("div",re,[s("div",se,[s("div",oe,[a.can(["create equipo"])?(t(),u(P,{key:0,class:"rounded-none",onClick:o[0]||(o[0]=r=>e.createOpen=!0)},{default:y(()=>[w(p(a.lang().button.newo),1)]),_:1})):d("",!0),c(P,{class:"rounded-none"},{default:y(()=>[a.can(["create equipo"])?(t(),u(m(R),{key:0,href:a.route("EquipoUploadExcel")},{default:y(()=>[w(p(a.lang().button.upload),1)]),_:1},8,["href"])):d("",!0)]),_:1}),a.can(["create equipo"])?(t(),u(K,{key:1,numberPermissions:i.numberPermissions,titulos:f,show:e.createOpen,onClose:o[1]||(o[1]=r=>e.createOpen=!1),title:i.title,losSelect:i.losSelect},null,8,["numberPermissions","show","title","losSelect"])):d("",!0),a.can(["update equipo"])?(t(),u(W,{key:2,titulos:f,numberPermissions:i.numberPermissions,show:e.editOpen,onClose:o[2]||(o[2]=r=>e.editOpen=!1),Equipoa:e.Equipoo,title:i.title,losSelect:i.losSelect},null,8,["numberPermissions","show","Equipoa","title","losSelect"])):d("",!0),a.can(["delete equipo"])?(t(),u(X,{key:3,numberPermissions:i.numberPermissions,show:e.deleteOpen,onClose:o[3]||(o[3]=r=>e.deleteOpen=!1),Equipoa:e.Equipoo,title:i.title},null,8,["numberPermissions","show","Equipoa","title"])):d("",!0)])]),s("div",ae,[s("div",ie,[s("div",ne,[c(Z,{modelValue:e.params.perPage,"onUpdate:modelValue":o[4]||(o[4]=r=>e.params.perPage=r),dataSet:e.dataSet},null,8,["modelValue","dataSet"])]),i.numberPermissions>1?(t(),u(Q,{key:0,modelValue:e.params.search,"onUpdate:modelValue":o[5]||(o[5]=r=>e.params.search=r),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Codigo"},null,8,["modelValue"])):d("",!0)]),s("div",le,[i.total>0?(t(),l("table",de,[s("thead",pe,[s("tr",ce,[s("th",me,[c(Y,{checked:e.multipleSelect,"onUpdate:checked":o[6]||(o[6]=r=>e.multipleSelect=r),onChange:E},null,8,["checked"])]),b.numberPermissions>1?(t(),l("th",ue,"Accion")):d("",!0),o[8]||(o[8]=s("th",{class:"px-1 py-4 text-center"},"#",-1)),(t(),l(_,null,k(f,r=>s("th",{class:"px-2 py-4 cursor-pointer",onClick:g=>D(r.order)},[s("div",ye,[s("span",fe,p(a.lang().label[r.label]),1),c(m(H),{class:"w-4 h-4"})])],8,be)),64))])]),s("tbody",null,[(t(!0),l(_,null,k(i.fromController.data,(r,g)=>(t(),l("tr",{key:g,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s("td",he,[x(s("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:N,value:r.id,"onUpdate:modelValue":o[7]||(o[7]=n=>e.selectedId=n)},null,40,_e),[[z,e.selectedId]])]),b.numberPermissions>1?(t(),l("td",ge,[s("div",ke,[s("div",xe,[x((t(),u(F,{type:"button",onClick:n=>(e.editOpen=!0,e.Equipoo=r),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[c(m(ee),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[v,a.can(["update equipo"])],[h,a.lang().tooltip.edit]]),x((t(),u(G,{type:"button",onClick:n=>(e.deleteOpen=!0,e.Equipoo=r),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[c(m(te),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[v,a.can(["delete equipo"])],[h,a.lang().tooltip.delete]])])])])):d("",!0),s("td",we,p(++g),1),(t(),l(_,null,k(f,n=>s("td",ve,[n.type==="text"?(t(),l("span",Pe,p(r[n.order]),1)):d("",!0),n.type==="number"?(t(),l("span",Se,p(m(S)(r[n.order],0,!1)),1)):d("",!0),n.type==="dinero"?(t(),l("span",$e,p(m(S)(r[n.order],0,!0)),1)):d("",!0),n.type==="date"?(t(),l("span",qe,p(m($)(r[n.order],!1)),1)):d("",!0),n.type==="datetime"?(t(),l("span",Ce,p(m($)(r[n.order],!0)),1)):d("",!0),n.type==="foreign"?(t(),l("span",Oe,p((r==null?void 0:r[n==null?void 0:n.nameid])??""),1)):d("",!0)])),64))]))),128)),s("tr",De,[b.numberPermissions>1?(t(),l("td",Ee," - ")):d("",!0),o[9]||(o[9]=s("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"}," Total: ",-1)),s("td",Ne,p(i.total),1)])])])):(t(),l("h2",Ve,"Sin Registros"))]),i.total>0?(t(),l("div",Ue,[c(J,{links:i.fromController,filters:e.params},null,8,["links","filters"])])):d("",!0)])])]),_:1})],64)}}};export{nt as default};

import{k as E,T as F,l as M,j as q,f as t,a as d,w as y,o as c,b as i,t as m,F as B,m as N,u as s,d as w,n as O,e as T}from"./app-551012d8.js";import{_ as p}from"./InputError-23c0a787.js";import{_ as g}from"./InputLabel-8615b764.js";import{M as x}from"./Modal-e8455b5b.js";import{_ as z}from"./PrimaryButton-bd076b11.js";import{_ as D}from"./SecondaryButton-ec5b0153.js";import{_ as L}from"./SelectInput-de862fb7.js";import{_ as S}from"./TextInput-4b8270d6.js";import{o as A}from"./vue-datepicker-b15d2936.js";/* empty css             */import{C as G}from"./vue-select.es-e7a5a940.js";/* empty css                   */const H={class:"space-y-6"},I=["onSubmit"],J={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P={key:0,id:"SelectVue"},Q={name:"labelSelectVue"},R={key:1,id:"SelectVue"},W={key:2,id:"SelectVue"},X={key:3,class:""},Y={class:"flex justify-end my-8"},me={__name:"Edit",props:{show:Boolean,title:String,user:Object,titulos:Object,roles:Object},emits:["close"],setup(b,{emit:_}){var v;const o=b,U=E({params:{pregunta:""},sexo:[{title:"Masculino",value:"Masculino"},{title:"Femenino",value:"Femenino"}]}),$=o.titulos.map(a=>a.order);let l=F({...Object.fromEntries($.map(a=>[a,""])),role:""});const V=[];o.titulos.forEach(a=>V.push({idd:a.order,label:a.label,type:a.type}));const h=()=>{var a;l.put(route("user.update",(a=o.user)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{_("close"),l.reset()},onError:()=>null,onFinish:()=>null})};M(()=>{var a,r,e,u,n,f,k;o.show&&(l.errors={},l.name=(a=o.user)==null?void 0:a.name,l.email=(r=o.user)==null?void 0:r.email,l.role=((e=o.user)==null?void 0:e.roles)==0?"":(u=o.user)==null?void 0:u.roles[0].name,l.identificacion=(n=o.user)==null?void 0:n.identificacion,l.sexo=(f=o.user)==null?void 0:f.sexo,l.fecha_nacimiento=(k=o.user)==null?void 0:k.fecha_nacimiento,l.errors={})}),q(()=>{});const j=(v=o.roles)==null?void 0:v.map(a=>({label:a.name.replace(/_/g," "),value:a.name})),C=["year","month","calendar"];return(a,r)=>(c(),t("section",H,[d(x,{show:o.show,onClose:r[2]||(r[2]=e=>_("close"))},{default:y(()=>[i("form",{class:"p-6 mb-12",onSubmit:T(h,["prevent"])},[i("h2",J,m(a.lang().label.edit)+" "+m(o.title),1),i("div",K,[(c(),t(B,null,N(V,(e,u)=>i("div",{key:u},[e.type=="foreign"?(c(),t("div",P,[i("label",Q,m(e.label),1),d(s(G),{options:U[e.idd],label:"title",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n},null,8,["options","modelValue","onUpdate:modelValue"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):e.type=="time"?(c(),t("div",R,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(S,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):e.type=="date"?(c(),t("div",W,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(s(A),{"is-24":!1,"day-names":a.daynames,format:a.formatToVue,flow:C,"auto-apply":"","enable-time-picker":!1,id:e.idd,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd]},null,8,["day-names","format","id","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):(c(),t("div",X,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(S,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])]))])),64)),i("div",null,[d(g,{for:"role",value:a.lang().label.role},null,8,["value"]),d(L,{id:"role",class:"mt-1 block w-full",modelValue:s(l).role,"onUpdate:modelValue":r[0]||(r[0]=e=>s(l).role=e),required:"",dataSet:s(j)},null,8,["modelValue","dataSet"]),d(p,{class:"mt-2",message:s(l).errors.role},null,8,["message"])])]),i("div",Y,[d(D,{disabled:s(l).processing,onClick:r[1]||(r[1]=e=>_("close"))},{default:y(()=>[w(m(a.lang().button.close),1)]),_:1},8,["disabled"]),d(z,{class:O(["ml-3",{"opacity-25":s(l).processing}]),disabled:s(l).processing,onClick:h},{default:y(()=>[w(m(s(l).processing?a.lang().button.save+"...":a.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,I)]),_:1},8,["show"])]))}};export{me as default};

import{k as $,T as N,j as B,l as M,f as p,a as l,w as c,o as g,b as a,t as d,u as t,F as O,m as F,d as m,n as U,e as H}from"./app-551012d8.js";import{_ as v}from"./InputError-23c0a787.js";import{_ as h}from"./InputLabel-8615b764.js";import{M as P}from"./Modal-e8455b5b.js";import{_ as b}from"./PrimaryButton-bd076b11.js";import{_ as T}from"./SecondaryButton-ec5b0153.js";import{_ as q}from"./TextInput-4b8270d6.js";import{C as y}from"./vue-select.es-e7a5a940.js";/* empty css                   */import"./vue-datepicker-b15d2936.js";/* empty css             */const z={class:"space-y-6"},D=["onSubmit"],L={class:"mb-[230px]"},A={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:""},J={id:"SelectVue"},K=a("label",{name:"labelSelectVue",class:"dark:text-white"}," Centro de trabajo ",-1),Q={class:"flex my-5 gap-8"},R={class:"my-8 flex justify-end"},W={class:"text-lg mx-8 text-red-500"},ie={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(k,{emit:u}){const n=k,r=$({params:{pregunta:""},centros:[0],valido:!0,mensajeError:""}),w=n.titulos.map(o=>o.order),e=N({...Object.fromEntries(w.map(o=>[o,""])),centro_id:[n.losSelect[0]]});B(()=>{});const V=[];n.titulos.forEach(o=>V.push({idd:o.order,label:o.label,type:o.type}));let j=()=>{try{if(r.valido=!0,!e.nombre||!e.tipo)throw r.valido=!1,console.log(e.nombre,"form.nombre"),console.log(e.tipo,"form.tipo"),new Error("BreakException");e.centro_id.forEach(o=>{if(o.value===0)throw r.valido=!1,console.log(o,"element"),new Error("BreakException")})}catch{}};const f=()=>{j(),r.valido?e.post(route("disponibilidad.store"),{preserveScroll:!0,onSuccess:()=>{u("close"),e.reset()},onError:()=>null,onFinish:()=>null}):(r.mensajeError="Hay elementos vacios",alert(r.mensajeError))};M(()=>{n.show&&(e.errors={})});function E(){r.centros.push(0),e.centro_id.push(n.losSelect[0])}let x=()=>{r.centros.length=r.centros.length-1,e.centro_id.length=e.centro_id.length-1};const S=[{title:"Seleccione un tipo",value:0},{title:"Programado",value:"Programado"},{title:"No programado",value:"No programado"}];return(o,s)=>(g(),p("section",z,[l(P,{show:n.show,onClose:s[5]||(s[5]=i=>u("close"))},{default:c(()=>[a("form",{class:"p-6",onSubmit:H(f,["prevent"])},[a("div",L,[a("h2",A,d(o.lang().label.add)+" "+d(n.title),1),a("div",G,[a("div",I,[l(h,{for:"nombre",value:o.lang().label.nombre},null,8,["value"]),l(q,{id:"nombre",type:"text",class:"h-9 mt-1 block w-full",modelValue:t(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=i=>t(e).nombre=i),required:"",placeholder:o.nombre,error:t(e).errors.nombre},null,8,["modelValue","placeholder","error"]),l(v,{class:"mt-2",message:t(e).errors.nombre},null,8,["message"])]),a("div",null,[l(h,{for:"tipo",value:o.lang().label.Tipo},null,8,["value"]),l(t(y),{options:S,label:"title",class:"mt-1 dark:bg-gray-500 rounded-lg dark:text-gray-600",modelValue:t(e).tipo,"onUpdate:modelValue":s[1]||(s[1]=i=>t(e).tipo=i)},null,8,["modelValue"])]),(g(!0),p(O,null,F(r.centros,(i,_)=>(g(),p("div",J,[K,l(t(y),{options:n.losSelect,label:"title",class:"dark:bg-gray-500 rounded-lg dark:text-gray-600",modelValue:t(e).centro_id[_],"onUpdate:modelValue":C=>t(e).centro_id[_]=C},null,8,["options","modelValue","onUpdate:modelValue"]),l(v,{class:"mt-2",message:t(e).errors.centro_id},null,8,["message"])]))),256))]),a("div",Q,[l(b,{type:"button",disabled:t(e).processing,onClick:s[2]||(s[2]=i=>E())},{default:c(()=>[m(" Mas centros ")]),_:1},8,["disabled"]),l(b,{type:"button",disabled:t(e).processing,onClick:s[3]||(s[3]=i=>t(x)())},{default:c(()=>[m(" Menos centros ")]),_:1},8,["disabled"])])]),a("div",R,[a("p",W,d(r.mensajeError),1),l(T,{disabled:t(e).processing,onClick:s[4]||(s[4]=i=>u("close"))},{default:c(()=>[m(d(o.lang().button.close),1)]),_:1},8,["disabled"]),l(b,{class:U(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing,onClick:f},{default:c(()=>[m(d(o.lang().button.add)+" "+d(t(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,D)]),_:1},8,["show"])]))}};export{ie as default};

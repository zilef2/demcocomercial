import{l as b,T as C,k as E,m as j,f as r,o as c,a as d,w as u,b as i,d as U,t as p,F as B,p as F,u as a,e as v,n as M}from"./app-Cq1znuMy.js";import{_ as g}from"./InputError-WpjbGGA7.js";import{_ as y}from"./InputLabel-DT5ITww_.js";import{_ as N}from"./Modal-qBkqJmba.js";import{_ as z}from"./PrimaryButton-C4YOsuaB.js";import{_ as O}from"./SecondaryButton-BnrCYek9.js";import{_ as V}from"./TextInput-CxVKhdog.js";import{C as q}from"./vue-select.es-wsHHmxmz.js";/* empty css                   */import"./vue-datepicker-C1EfqZL1.js";const T={class:"space-y-6"},A={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={key:0,id:"SelectVue"},P={name:"labelSelectVue"},R={key:1,id:"SelectVue"},x={key:2,class:""},G={class:"my-8 flex justify-end"},le={__name:"Edit",props:{show:Boolean,title:String,generica:Object,titulos:Object},emits:["close"],setup(f,{emit:k}){const o=f,m=k,_=b({}),w=o.titulos.map(l=>l.order),s=C({...Object.fromEntries(w.map(l=>[l,""]))});E(()=>{if(o.numberPermissions>8){const l=Math.floor(Math.random()*9+0);s.nombre="admin orden trabajo "+l,s.codigo=l}});const h=[];o.titulos.forEach(l=>{h.push({idd:l.order,label:l.label,type:l.type,value:s[l.order]})}),j(()=>{o.show&&(s.errors={},o.titulos.forEach(l=>{s[l.order]=o.generica[l.order]}))});const S=()=>{var l;s.put(route("pieza.update",(l=o.generica)==null?void 0:l.id),{preserveScroll:!0,onSuccess:()=>{m("close"),s.reset()},onError:()=>null,onFinish:()=>null})};return(l,n)=>(c(),r("section",T,[d(N,{show:o.show,onClose:n[2]||(n[2]=e=>m("close"))},{default:u(()=>[i("form",{class:"p-6",onSubmit:n[1]||(n[1]=U((...e)=>l.create&&l.create(...e),["prevent"]))},[i("h2",A,p(l.lang().label.edit)+" "+p(o.title),1),i("div",D,[(c(),r(B,null,F(h,(e,$)=>i("div",{key:$},[e.type=="id"?(c(),r("div",L,[i("label",P,p(e.label),1),d(a(q),{options:_[e.idd],label:"title",modelValue:a(s)[e.idd],"onUpdate:modelValue":t=>a(s)[e.idd]=t,value:_[e.idd][o.generica.pieza_id]},null,8,["options","modelValue","onUpdate:modelValue","value"]),d(g,{class:"mt-2",message:a(s).errors[e.idd]},null,8,["message"])])):e.type=="time"?(c(),r("div",R,[d(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),d(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:a(s)[e.idd],"onUpdate:modelValue":t=>a(s)[e.idd]=t,required:"",placeholder:e.label,error:a(s).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(g,{class:"mt-2",message:a(s).errors[e.idd]},null,8,["message"])])):(c(),r("div",x,[d(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),d(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:a(s)[e.idd],"onUpdate:modelValue":t=>a(s)[e.idd]=t,required:"",placeholder:e.label,error:a(s).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(g,{class:"mt-2",message:a(s).errors[e.idd]},null,8,["message"])]))])),64))]),i("div",G,[d(O,{disabled:a(s).processing,onClick:n[0]||(n[0]=e=>m("close"))},{default:u(()=>[v(p(l.lang().button.close),1)]),_:1},8,["disabled"]),d(z,{class:M(["ml-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing,onClick:S},{default:u(()=>[v(p(a(s).processing?l.lang().button.save+"...":l.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{le as default};

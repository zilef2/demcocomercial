import{k as S,T as C,j,l as $,f as c,a,w as _,o as p,b as t,t as i,F as x,m as E,u as o,d as f,n as M,e as U}from"./app-551012d8.js";import{_ as g}from"./InputError-23c0a787.js";import{_ as y}from"./InputLabel-8615b764.js";import{M as N}from"./Modal-e8455b5b.js";import{_ as q}from"./PrimaryButton-bd076b11.js";import{_ as B}from"./SecondaryButton-ec5b0153.js";import{_ as v}from"./TextInput-4b8270d6.js";/* empty css             */import{C as F}from"./vue-select.es-e7a5a940.js";/* empty css                   */const O={class:"space-y-6"},P=["onSubmit"],T={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={key:0,id:"SelectVue",class:""},D={name:"labelSelectVue"},H={key:1,id:"SelectVue"},L={key:2,class:""},R={class:"my-8 flex justify-end"},le={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(V,{emit:u}){const d=V;S({params:{pregunta:""}});let b=d.titulos.map(l=>{if(l.order!=="noquiero")return l.order});const s=C({...Object.fromEntries(b.map(l=>[l,""]))});j(()=>{if(d.numberPermissions>9){const l=Math.floor(Math.random()*9+1);s.nombre="nombre genenerico "+l,s.codigo=l}});const m=[];d.titulos.forEach(l=>{l.order!=="noquiero"&&m.push({idd:l.order,label:l.label,type:l.type})});function k(){let l=!0;return m.forEach(n=>{if(!s[n.idd])return console.log("=>(Create.vue:70) falta esto papa element.idd",n.idd),l=!1,l}),l}const h=()=>{k()?s.post(route("Proveedor.store"),{preserveScroll:!0,onSuccess:()=>{u("close"),s.reset()},onError:()=>null,onFinish:()=>null}):console.log("Hay campos vacios")};return $(()=>{d.show&&(s.errors={})}),(l,n)=>(p(),c("section",O,[a(N,{show:d.show,onClose:n[1]||(n[1]=e=>u("close")),maxWidth:"xl4"},{default:_(()=>[t("form",{class:"p-6",onSubmit:U(h,["prevent"])},[t("h2",T,i(l.lang().label.add)+" "+i(d.title),1),t("div",z,[(p(),c(x,null,E(m,(e,w)=>t("div",{key:w},[e.type==="foreign"?(p(),c("div",A,[t("label",D,i(e.label),1),a(o(F),{options:d.losSelect[0],modelValue:o(s)[e.idd],"onUpdate:modelValue":r=>o(s)[e.idd]=r,reduce:r=>r.value,label:"name"},null,8,["options","modelValue","onUpdate:modelValue","reduce"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])])):e.type==="time"?(p(),c("div",H,[a(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(v,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:o(s)[e.idd],"onUpdate:modelValue":r=>o(s)[e.idd]=r,required:"",placeholder:e.label,error:o(s).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])])):(p(),c("div",L,[a(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(v,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:o(s)[e.idd],"onUpdate:modelValue":r=>o(s)[e.idd]=r,required:"",placeholder:e.label,error:o(s).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])]))])),64))]),t("div",R,[a(B,{disabled:o(s).processing,onClick:n[0]||(n[0]=e=>u("close"))},{default:_(()=>[f(i(l.lang().button.close),1)]),_:1},8,["disabled"]),a(q,{class:M(["ml-3",{"opacity-25":o(s).processing}]),disabled:o(s).processing,onClick:h},{default:_(()=>[f(i(l.lang().button.add)+" "+i(o(s).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,P)]),_:1},8,["show"])]))}};export{le as default};

import{k as E,T as $,j as N,l as T,f as _,a as s,w as m,o as f,b as r,t as d,u as o,F as M,m as B,d as u,n as O,e as A,a2 as I,a3 as U}from"./app-551012d8.js";import{_ as h}from"./InputError-23c0a787.js";import{_ as y}from"./InputLabel-8615b764.js";import{M as F}from"./Modal-e8455b5b.js";import{_ as b}from"./PrimaryButton-bd076b11.js";import{_ as H}from"./SecondaryButton-ec5b0153.js";import{_ as q}from"./TextInput-4b8270d6.js";import{C as V}from"./vue-select.es-e7a5a940.js";/* empty css                   */import"./vue-datepicker-b15d2936.js";/* empty css             */import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const D=c=>(I("data-v-c4f59dc9"),c=c(),U(),c),L={class:"space-y-6"},P=["onSubmit"],G={class:"mb-[230px]"},J={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:""},R={id:"SelectVue"},W=D(()=>r("label",{name:"labelSelectVue",class:"dark:text-white"}," Centro de trabajo ",-1)),X={class:"flex my-5 gap-8"},Y={class:"flex my-8 justify-end"},Z={class:"text-lg mx-8 text-red-500"},ee={__name:"Create",props:{show:Boolean,title:String,roles:Object,losSelect:Object,titulos:Object,numberPermissions:Number},emits:["close"],setup(c,{emit:p}){const i=c,a=E({params:{pregunta:""},centros:[0],valido:!0,mensajeError:""}),w=i.titulos.map(l=>l.order),e=$({...Object.fromEntries(w.map(l=>[l,""])),centro_id:[i.losSelect[0]]});N(()=>{});let S=()=>{try{if(a.valido=!0,!e.nombre||!e.tipo)throw a.valido=!1,new Error("BreakException")}catch{a.valido=!1}};const g=()=>{S(),a.valido?e.post(route("actividad.store"),{preserveScroll:!0,onSuccess:()=>{p("close"),e.reset()},onError:()=>null,onFinish:()=>null}):a.mensajeError="Hay elementos vacios"};T(()=>{i.show&&(e.errors={})});function k(){a.centros.push(0),e.centro_id.push(i.losSelect[0])}let x=()=>{a.centros.length=a.centros.length-1,e.centro_id.length=e.centro_id.length-1};const C=[{title:"Seleccione un tipo",value:0},{title:"TVA",value:"TVA"},{title:"TNVA",value:"TNVA"}];return(l,t)=>(f(),_("section",L,[s(F,{show:i.show,onClose:t[5]||(t[5]=n=>p("close"))},{default:m(()=>[r("form",{class:"p-6",onSubmit:A(g,["prevent"])},[r("div",G,[r("h2",J,d(l.lang().label.add)+" "+d(i.title),1),r("div",K,[r("div",Q,[s(y,{for:"nombre",value:l.lang().label.nombre},null,8,["value"]),s(q,{id:"nombre",type:"text",class:"mt-1 h-8 block w-full",modelValue:o(e).nombre,"onUpdate:modelValue":t[0]||(t[0]=n=>o(e).nombre=n),required:"",placeholder:l.nombre,error:o(e).errors.nombre},null,8,["modelValue","placeholder","error"]),s(h,{class:"mt-2",message:o(e).errors.nombre},null,8,["message"])]),r("div",null,[s(y,{for:"tipo",value:l.lang().label.Tipo},null,8,["value"]),s(o(V),{options:C,label:"title",class:"dark:bg-gray-400 rounded-lg dark:text-white",modelValue:o(e).tipo,"onUpdate:modelValue":t[1]||(t[1]=n=>o(e).tipo=n)},null,8,["modelValue"])]),(f(!0),_(M,null,B(a.centros,(n,v)=>(f(),_("div",R,[W,s(o(V),{options:i.losSelect,label:"title",class:"dark:bg-gray-400 rounded-lg dark:text-white",modelValue:o(e).centro_id[v],"onUpdate:modelValue":j=>o(e).centro_id[v]=j},null,8,["options","modelValue","onUpdate:modelValue"]),s(h,{class:"mt-2",message:o(e).errors.centro_id},null,8,["message"])]))),256))]),r("div",X,[s(b,{type:"button",disabled:o(e).processing,onClick:t[2]||(t[2]=n=>k())},{default:m(()=>[u(" Mas centros ")]),_:1},8,["disabled"]),s(b,{type:"button",disabled:o(e).processing,onClick:t[3]||(t[3]=n=>o(x)())},{default:m(()=>[u(" Menos centros ")]),_:1},8,["disabled"])])]),r("div",Y,[r("p",Z,d(a.mensajeError),1),s(H,{disabled:o(e).processing,onClick:t[4]||(t[4]=n=>p("close"))},{default:m(()=>[u(d(l.lang().button.close),1)]),_:1},8,["disabled"]),s(b,{class:O(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing,onClick:g},{default:m(()=>[u(d(l.lang().button.add)+" "+d(o(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,P)]),_:1},8,["show"])]))}},pe=z(ee,[["__scopeId","data-v-c4f59dc9"]]);export{pe as default};

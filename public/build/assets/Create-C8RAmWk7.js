import{k as x,T as B,l as M,s as E,m as z,f as c,o as n,a as r,w as m,b as t,d as N,t as f,F as b,p as C,u as a,n as D,e as g}from"./app-Cq1znuMy.js";import{_ as y}from"./InputError-WpjbGGA7.js";import{_ as V}from"./InputLabel-DT5ITww_.js";import{_ as R}from"./Modal-qBkqJmba.js";import{_ as F}from"./PrimaryButton-C4YOsuaB.js";import{_ as q}from"./SecondaryButton-BnrCYek9.js";import{_ as O}from"./DangerButton-BmGSuYS8.js";import{_ as k}from"./TextInput-CxVKhdog.js";/* empty css             */import{C as A}from"./vue-select.es-wsHHmxmz.js";/* empty css                   */const h={Codigo:!1,Descripcion:!1,"Tipo Fabricante":!1,"Referencia Fabricante":!1,Marca:!1,"Unidad de Compra":!1,"Fecha actualizacion":!0,"Precio de Lista":!1,"Descuento Basico":!1,"Descuento Proyectos":!1,"Precio con Descuento":!0,"Precio con Descuento Proyecto":!0,"Precio Ultima Compra":!1,"Precios de Listas":!1,"Ruta Tiempos":!1,"Tiempos Chapisteria":!1},H={Codigo:!0,Descripcion:!0,"Tipo Fabricante":!0,"Referencia Fabricante":!0,Marca:!0,"Unidad de Compra":!0,"Fecha actualizacion":!1,"Precio de Lista":!0,"Descuento Basico":!0,"Descuento Proyectos":!0,"Precio con Descuento":!1,"Precio con Descuento Proyecto":!1,"Precio Ultima Compra":!1,"Precios de Listas":!0,"Ruta Tiempos":!0,"Tiempos Chapisteria":!0},I={class:"space-y-6"},Q={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},W={class:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 2xl:gap-8"},G={key:0,id:"SelectVue"},J={key:1,class:""},K={class:"flex my-5 gap-8"},X={class:"my-8 flex justify-end"},ce={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(j,{emit:w}){const i=j;x(()=>{if(i.numberPermissions>9){const o=Math.floor(Math.random()*900+1),l=Math.floor(Math.random()*9+1);e.Codigo="ejemplo "+o,e.Descripcion="Descripcion: "+o+20,e["Tipo Fabricante"]="ejemplo "+o+1,e["Referencia Fabricante"]="ejemplo "+o+2,e.Marca="ejemplo "+o+3,e["Unidad de Compra"]="ejemplo "+o+4,e["Precio de Lista"]=o+5e3,e["Fecha actualizacion"]="2023-06-0"+l,e["Descuento Basico"]=o/100,e["Descuento Proyectos"]=o/100,e["Precio con Descuento"]=o+8,e["Precio con Descuento Proyecto"]=o+9,e["Precio Ultima Compra"]=o+10,e["Precios de Listas"]=o+11e3,e["Clasificacion 2 Inventario"]="clasificacion "+o+12,e["Ruta Tiempos"]="ruta "+o+13,e["Tiempos Chapisteria"]=o+14,e.provedor_id=parseInt(o/100)}});const v=w,p=M({params:{pregunta:""},provedores:[0]});function S(){p.provedores.push(0),e.proveedor_id.push(i.losSelect[0][0])}let U=()=>{p.provedores.length>1&&(p.provedores.length=p.provedores.length-1,e.proveedor_id.length=e.proveedor_id.length-1)},L=i.titulos.map(o=>{if(o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion")return o.order});const e=B({...Object.fromEntries(L.map(o=>[o,""])),proveedor_id:[i.losSelect[0][0]]}),_=[];i.titulos.forEach(o=>{o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion"&&_.push({idd:o.order,label:o.label,type:o.type})});const T=o=>{console.log("=>(Create.vue:102) valor ",o),e["Precio con Descuento"]=+(e["Precio de Lista"]*(1-e["Descuento Basico"])).toFixed(2),e["Precio con Descuento Proyecto"]=+(e["Precio de Lista"]*(1-e["Descuento Proyectos"])).toFixed(2)};["Precio de Lista","Descuento Basico","Descuento Proyectos"].forEach(o=>{E(()=>e[o],l=>{T(l)})}),z(()=>{i.show&&(e.errors={})});function $(){let o=!0;return _.forEach(l=>{if(!e[l.idd])return console.log("=>(Create.vue:70) falta esto papa element.idd",l.idd),o=!1,o}),o}const P=()=>{$()?e.post(route("Equipo.store"),{preserveScroll:!0,onSuccess:()=>{v("close"),e.reset()},onError:()=>null,onFinish:()=>null}):console.log("Hay campos vacios")};return(o,l)=>(n(),c("section",I,[r(R,{show:i.show,onClose:l[3]||(l[3]=s=>v("close")),maxWidth:"xl7"},{default:m(()=>[t("form",{class:"p-6",onSubmit:N(P,["prevent"])},[t("h2",Q,f(o.lang().label.add)+" "+f(i.title),1),t("div",W,[(n(),c(b,null,C(_,(s,d)=>t("div",{key:d},[s.type==="time"?(n(),c("div",G,[r(V,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),r(k,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:"",placeholder:s.label,disabled:!!a(h)[s.idd],error:a(e).errors[s.idd],step:"3600",class:"mt-1 block w-full"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","required","disabled","error"]),r(y,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])])):(n(),c("div",J,[r(V,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),r(k,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:!!a(H)[s.idd],disabled:!!a(h)[s.idd],placeholder:s.label,error:a(e).errors[s.idd],class:D([{"bg-gray-300":!!a(h)[s.idd]},"mt-1 block w-full"])},null,8,["id","type","modelValue","onUpdate:modelValue","required","disabled","placeholder","error","class"]),r(y,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])]))])),64)),(n(!0),c(b,null,C(p.provedores,(s,d)=>(n(),c("div",{key:d,id:"SelectVue",class:""},[l[4]||(l[4]=t("label",{name:"labelSelectVue"}," Proveedor ",-1)),r(a(A),{options:i.losSelect[0],modelValue:a(e).proveedor_id[d],"onUpdate:modelValue":u=>a(e).proveedor_id[d]=u,label:"title"},null,8,["options","modelValue","onUpdate:modelValue"]),r(y,{class:"mt-2",message:a(e).errors["proveedor_id."+d+".value"]},null,8,["message"])]))),128)),t("div",K,[r(F,{type:"button",disabled:a(e).processing,onClick:l[0]||(l[0]=s=>S())},{default:m(()=>l[5]||(l[5]=[g(" Agregar proveedor ")])),_:1,__:[5]},8,["disabled"]),r(O,{type:"button",disabled:a(e).processing,onClick:l[1]||(l[1]=s=>a(U)())},{default:m(()=>l[6]||(l[6]=[g(" Quitar proveedor ")])),_:1,__:[6]},8,["disabled"])])]),t("div",X,[r(q,{disabled:a(e).processing,onClick:l[2]||(l[2]=s=>v("close"))},{default:m(()=>[g(f(o.lang().button.close),1)]),_:1},8,["disabled"]),r(F,{class:D(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:P},{default:m(()=>[g(f(o.lang().button.add)+" "+f(a(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{ce as default};

import{q as V,l as j,Q as B,s as N,N as P,v as D,f as b,o as d,a,u as i,Z as U,w as c,b as s,x as m,e as A,t as n,z as y,c as h,g as E,F as k,p as F,y as q}from"./app-BhGvptmL.js";import{_ as z}from"./AuthenticatedLayout-CL8l85iP.js";import{_ as G}from"./Breadcrumb-u74U_Jre.js";import{_ as L}from"./TextInput-XsIzkty-.js";import{_ as M}from"./PrimaryButton-BkUg86Bs.js";import{_ as Q}from"./SelectInput-7A83KURJ.js";import{_ as v}from"./DangerButton-rUt0gjYp.js";import{a as x,r as g,_ as T}from"./Pagination-BmLxT3rT.js";import Z from"./Create-DmyTkoMz.js";import H from"./Edit-DW4Shtot.js";import J from"./Delete-B4c0ASOD.js";import K from"./DeleteBulk-CltDscs_.js";import{_ as R}from"./Checkbox-CSTSBUgV.js";import{_ as W}from"./InfoButton-B2qbAguV.js";import{r as X}from"./PencilIcon-KSwtZsAy.js";import"./index-B3YzOLPY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-qjXA3irW.js";import"./Toast-DwfMDwwm.js";/* empty css                                              */import"./InputError-Ck0A_nV9.js";import"./InputLabel-Fsg0RhcG.js";import"./Modal-CWveoFge.js";import"./SecondaryButton-sXq2m4Kv.js";const Y={class:"space-y-4"},ee={class:"px-4 sm:px-0"},te={class:"rounded-lg overflow-hidden w-fit"},se={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},re={class:"flex justify-between p-2"},le={class:"flex space-x-2"},ae={class:"overflow-x-auto scrollbar-table"},oe={class:"w-full"},ne={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ie={class:"dark:bg-gray-900/50 text-left"},de={class:"px-2 py-4 text-center"},pe={class:"flex justify-between items-center"},ce={class:"flex justify-between items-center"},me={class:"flex justify-between items-center"},ue={class:"flex justify-between items-center"},fe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ye=["value"],he={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"flex justify-center items-center"},xe={class:"rounded-md overflow-hidden"},$e={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ke={__name:"Index",props:{title:String,filters:Object,permissions:Object,breadcrumbs:Object,perPage:Number},setup(u){const{_:$,debounce:C,pickBy:O}=V,o=u,e=j({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,permission:null,dataSet:B().props.app.perpage}),f=l=>{e.params.field=l,e.params.order=e.params.order==="asc"?"desc":"asc"};N(()=>$.cloneDeep(e.params),C(()=>{let l=O(e.params);P.get(route("permission.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const S=l=>{var t;l.target.checked===!1?e.selectedId=[]:(t=o.permissions)==null||t.data.forEach(p=>{e.selectedId.push(p.id)})},I=()=>{var l;((l=o.permissions)==null?void 0:l.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(l,t)=>{const p=D("tooltip");return d(),b(k,null,[a(i(U),{title:o.title},null,8,["title"]),a(z,null,{default:c(()=>[a(G,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),s("div",Y,[s("div",ee,[s("div",te,[m(a(M,{class:"rounded-none",onClick:t[0]||(t[0]=r=>e.createOpen=!0)},{default:c(()=>[A(n(l.lang().button.add),1)]),_:1},512),[[y,l.can(["create permission"])]]),a(Z,{show:e.createOpen,onClose:t[1]||(t[1]=r=>e.createOpen=!1),title:o.title},null,8,["show","title"]),a(H,{show:e.editOpen,onClose:t[2]||(t[2]=r=>e.editOpen=!1),permission:e.permission,title:o.title},null,8,["show","permission","title"]),a(J,{show:e.deleteOpen,onClose:t[3]||(t[3]=r=>e.deleteOpen=!1),permission:e.permission,title:o.title},null,8,["show","permission","title"]),a(K,{show:e.deleteBulkOpen,onClose:t[4]||(t[4]=r=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),s("div",se,[s("div",re,[s("div",le,[a(Q,{modelValue:e.params.perPage,"onUpdate:modelValue":t[5]||(t[5]=r=>e.params.perPage=r),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),m((d(),h(v,{onClick:t[6]||(t[6]=r=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:c(()=>[a(i(x),{class:"w-5 h-5"})]),_:1})),[[y,e.selectedId.length!=0&&l.can(["delete permission"])],[p,l.lang().tooltip.delete_selected]])]),o.numberPermissions>1?(d(),h(L,{key:0,modelValue:e.params.search,"onUpdate:modelValue":t[7]||(t[7]=r=>e.params.search=r),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])):E("",!0)]),s("div",ae,[s("table",oe,[s("thead",ne,[s("tr",ie,[s("th",de,[a(R,{checked:e.multipleSelect,"onUpdate:checked":t[8]||(t[8]=r=>e.multipleSelect=r),onChange:S},null,8,["checked"])]),t[15]||(t[15]=s("th",{class:"px-2 py-4 text-center"},"#",-1)),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[9]||(t[9]=r=>f("name"))},[s("div",pe,[s("span",null,n(l.lang().label.name),1),a(i(g),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[10]||(t[10]=r=>f("guard"))},[s("div",ce,[t[14]||(t[14]=s("span",null,"Guard",-1)),a(i(g),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[11]||(t[11]=r=>f("created_at"))},[s("div",me,[s("span",null,n(l.lang().label.created),1),a(i(g),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[12]||(t[12]=r=>f("updated_at"))},[s("div",ue,[s("span",null,n(l.lang().label.updated),1),a(i(g),{class:"w-4 h-4"})])]),t[16]||(t[16]=s("th",{class:"px-2 py-4 sr-only"},"Action",-1))])]),s("tbody",null,[(d(!0),b(k,null,F(u.permissions.data,(r,w)=>(d(),b("tr",{key:w,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s("td",fe,[m(s("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:I,value:r.id,"onUpdate:modelValue":t[13]||(t[13]=_=>e.selectedId=_)},null,40,ye),[[q,e.selectedId]])]),s("td",he,n(++w),1),s("td",ge,n(r.name),1),s("td",_e,n(r.guard_name),1),s("td",be,n(r.created_at),1),s("td",we,n(r.updated_at),1),s("td",ke,[s("div",ve,[s("div",xe,[m((d(),h(W,{type:"button",onClick:_=>(e.editOpen=!0,e.permission=r),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[a(i(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,l.can(["update permission"])],[p,l.lang().tooltip.edit]]),m((d(),h(v,{type:"button",onClick:_=>(e.deleteOpen=!0,e.permission=r),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[a(i(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,l.can(["delete permission"])],[p,l.lang().tooltip.delete]])])])])]))),128))])])]),s("div",$e,[a(T,{links:o.permissions,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ke as default};

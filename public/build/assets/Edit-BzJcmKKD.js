import{l as T,T as B,m as M,k as N,f as m,o as u,a as n,w as h,b as o,d as O,t as r,F as z,p as D,u as a,e as U,n as L}from"./app-BhGvptmL.js";import{_ as g}from"./InputError-Ck0A_nV9.js";import{_}from"./InputLabel-Fsg0RhcG.js";import{_ as R}from"./Modal-CWveoFge.js";import{_ as A}from"./PrimaryButton-BkUg86Bs.js";import{_ as G}from"./SecondaryButton-sXq2m4Kv.js";import{_ as H}from"./SelectInput-7A83KURJ.js";import{_ as $}from"./TextInput-XsIzkty-.js";import{o as I}from"./vue-datepicker-BZOCypyi.js";/* empty css             */import{C as J}from"./vue-select.es-CcZCZQ2N.js";/* empty css                   */const K={class:"space-y-6"},P={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},Q={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={key:0,id:"SelectVue",class:"mt-2"},Y={class:"inline-flex"},Z={name:"labelSelectVue"},ee={class:"text-lg ml-1 font-bold"},le={key:1,id:"SelectVue"},se={class:"inline-flex"},ae={class:"text-lg ml-1 font-bold"},oe={key:2,id:"SelectVue"},de={class:"inline-flex"},ne={class:"text-lg ml-1 font-bold"},te={key:3,class:""},ie={class:"inline-flex"},re={class:"text-lg ml-1 font-bold"},ce={class:"inline-flex"},me={class:"flex justify-end my-8"},xe={__name:"Edit",props:{show:Boolean,title:String,user:Object,titulos:Object,roles:Object},emits:["close"],setup(p,{emit:C}){var k;const d=p,f=C,v=T({params:{pregunta:""},onceTime:!0,sexo:[{title:"Masculino",value:"Masculino"},{title:"Femenino",value:"Femenino"}]}),F=d.titulos.map(s=>s.order);let e=B({...Object.fromEntries(F.map(s=>[s,""])),role:""});const y=[];d.titulos.forEach(s=>y.push({idd:s.order,label:s.label,type:s.type}));const V=()=>{var s;e.put(route("user.update",(s=d.user)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>{f("close"),e.reset()},onError:()=>null,onFinish:()=>null})};M(()=>{var s,t,l,c,i,b,w,x,S,q;d.show?(e.errors={},e.name=(s=d.user)==null?void 0:s.name,e.email=(t=d.user)==null?void 0:t.email,e.role=((l=d.user)==null?void 0:l.roles)==0?"":(c=d.user)==null?void 0:c.roles[0].name,e.identificacion=(i=d.user)==null?void 0:i.identificacion,e.sexo=(b=d.user)==null?void 0:b.sexo,e.fecha_nacimiento=(w=d.user)==null?void 0:w.fecha_nacimiento,e.celular=(x=d.user)==null?void 0:x.celular,e.area=(S=d.user)==null?void 0:S.area,e.cargo=(q=d.user)==null?void 0:q.cargo,v.onceTime=!1):(e.name=null,e.email=null,e.role=null,e.identificacion=null,e.sexo=null,e.fecha_nacimiento=null,e.celular=null,e.area=null,e.cargo=null)}),N(()=>{});const j=(k=d.roles)==null?void 0:k.map(s=>({label:s.name.replace(/_/g," "),value:s.name})),E=["year","month","calendar"];return(s,t)=>(u(),m("section",K,[n(R,{show:d.show,onClose:t[2]||(t[2]=l=>f("close"))},{default:h(()=>[o("form",{class:"p-6 mb-12",onSubmit:O(V,["prevent"])},[o("h2",P,r(s.lang().label.edit)+" "+r(d.title),1),o("h3",Q,r(s.lang().label.RequiredFields),1),o("div",W,[(u(),m(z,null,D(y,(l,c)=>o("div",{key:c},[l.type==="foreign"?(u(),m("div",X,[o("div",Y,[o("label",Z,r(l.label),1),o("small",ee,r(p.titulos[c].required?"*":"ㅤ"),1)]),n(a(J),{options:v[l.idd],label:"title",class:"text-lg h-8",modelValue:a(e)[l.idd],"onUpdate:modelValue":i=>a(e)[l.idd]=i},null,8,["options","modelValue","onUpdate:modelValue"]),n(g,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):l.type==="time"?(u(),m("div",le,[o("div",se,[n(_,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",ae,r(p.titulos[c].required?"*":"ㅤ"),1)]),n($,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":i=>a(e)[l.idd]=i,required:"",placeholder:l.label,error:a(e).errors[l.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),n(g,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):l.type==="date"?(u(),m("div",oe,[o("div",de,[n(_,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",ne,r(p.titulos[c].required?"*":"ㅤ"),1)]),n(a(I),{"is-24":!1,"day-names":s.daynames,format:s.formatToVue,flow:E,"auto-apply":"","enable-time-picker":!1,id:l.idd,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":i=>a(e)[l.idd]=i,required:"",placeholder:l.label,error:a(e).errors[l.idd]},null,8,["day-names","format","id","modelValue","onUpdate:modelValue","placeholder","error"]),n(g,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):(u(),m("div",te,[o("div",ie,[n(_,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",re,r(p.titulos[c].required?"*":"ㅤ"),1)]),n($,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":i=>a(e)[l.idd]=i,required:"",placeholder:l.label,error:a(e).errors[l.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),n(g,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])]))])),64)),o("div",null,[o("div",ce,[n(_,{for:"role",value:s.lang().label.role},null,8,["value"]),t[3]||(t[3]=o("small",{class:"text-lg ml-1 font-bold"}," * ",-1))]),n(H,{id:"role",class:"mt-1 block w-full",modelValue:a(e).role,"onUpdate:modelValue":t[0]||(t[0]=l=>a(e).role=l),required:"",dataSet:a(j)},null,8,["modelValue","dataSet"]),n(g,{class:"mt-2",message:a(e).errors.role},null,8,["message"])])]),o("div",me,[n(G,{disabled:a(e).processing,onClick:t[1]||(t[1]=l=>f("close"))},{default:h(()=>[U(r(s.lang().button.close),1)]),_:1},8,["disabled"]),n(A,{class:L(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:V},{default:h(()=>[U(r(a(e).processing?s.lang().button.save+"...":s.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{xe as default};

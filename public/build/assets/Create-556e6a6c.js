import{j as $,k as L,T as B,p as E,l as N,f as c,a as r,w as m,o as n,b as i,t as _,F as P,m as C,u as a,n as V,d as f,e as T}from"./app-551012d8.js";import{_ as h}from"./InputError-23c0a787.js";import{_ as D}from"./InputLabel-8615b764.js";import{M as z}from"./Modal-e8455b5b.js";import{_ as k}from"./PrimaryButton-bd076b11.js";import{_ as q}from"./SecondaryButton-ec5b0153.js";import{_ as R}from"./DangerButton-1248510a.js";import{_ as F}from"./TextInput-4b8270d6.js";/* empty css             */import{C as H}from"./vue-select.es-e7a5a940.js";/* empty css                   */const y={Codigo:!1,Descripcion:!1,"Tipo Fabricante":!1,"Referencia Fabricante":!1,Marca:!1,"Unidad de Compra":!1,"Fecha actualizacion":!0,"Precio de Lista":!1,"Descuento Basico":!1,"Descuento Proyectos":!1,"Precio con Descuento":!0,"Precio con Descuento Proyecto":!0,"Precio Ultima Compra":!1,"Precios de Listas":!1,"Ruta Tiempos":!1,"Tiempos Chapisteria":!1},O={Codigo:!0,Descripcion:!0,"Tipo Fabricante":!0,"Referencia Fabricante":!0,Marca:!0,"Unidad de Compra":!0,"Fecha actualizacion":!1,"Precio de Lista":!0,"Descuento Basico":!0,"Descuento Proyectos":!0,"Precio con Descuento":!1,"Precio con Descuento Proyecto":!1,"Precio Ultima Compra":!1,"Precios de Listas":!0,"Ruta Tiempos":!0,"Tiempos Chapisteria":!0};const A={class:"space-y-6"},Q=["onSubmit"],W={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 2xl:gap-8"},I={key:0,id:"SelectVue"},J={key:1,class:""},K=i("label",{name:"labelSelectVue"}," Proveedor ",-1),X={class:"flex my-5 gap-8"},Y={class:"my-8 flex justify-end"},ne={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(j,{emit:v}){const t=j;$(()=>{if(t.numberPermissions>9){const o=Math.floor(Math.random()*900+1),l=Math.floor(Math.random()*9+1);e.codigo="ejemplo "+o,e.descripcion="Descripcion: "+o+20,e.tipo_fabricante="ejemplo "+o+1,e.proveeNombre="ejemplo "+o+2,e.referencia_fabricante="ejemplo "+o+3,e.unidad_de_compra="Unidad de compra "+o+5,e.precio_de_lista=o+50001,e.fecha_actualizacion="2025-06-24",e.descuento_basico=l*4,e.descuento_proyectos=l+1,e.precio_con_descuento=o+11e3,e.precio_con_descuento_proyecto=o+11e3,e.precio_ultima_compra=o+11e3,e.precios_de_listas=o*12,e.ruta_tiempos="ruta "+o+13,e.tiempos_chapisteria=o+14}});const p=L({params:{pregunta:""},provedores:[0]});function S(){p.provedores.push(0),e.proveedor_id.push(t.losSelect[0][0])}let w=()=>{p.provedores.length>1&&(p.provedores.length=p.provedores.length-1,e.proveedor_id.length=e.proveedor_id.length-1)},x=t.titulos.map(o=>{if(o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion")return o.order});const e=B({...Object.fromEntries(x.map(o=>[o,""])),proveedor_id:[t.losSelect[0][0]]}),g=[];t.titulos.forEach(o=>{o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion"&&g.push({idd:o.order,label:o.label,type:o.type})});const U=o=>{console.log("=>(Create.vue:102) valor ",o),e["Precio con Descuento"]=+(e["Precio de Lista"]*(1-e["Descuento Basico"])).toFixed(2),e["Precio con Descuento Proyecto"]=+(e["Precio de Lista"]*(1-e["Descuento Proyectos"])).toFixed(2)};["Precio de Lista","Descuento Basico","Descuento Proyectos"].forEach(o=>{E(()=>e[o],l=>{U(l)})}),N(()=>{t.show&&(e.errors={})});function M(){let o=!0;return g.forEach(l=>{if(!e[l.idd])return console.log("=>(Create.vue:70) falta esto papa element.idd",l.idd),o=!1,o}),o}const b=()=>{M()?e.post(route("Equipo.store"),{preserveScroll:!0,onSuccess:()=>{v("close"),e.reset()},onError:()=>null,onFinish:()=>null}):(console.log("Hay campos vacios"),alert("Hay campos vacios"))};return(o,l)=>(n(),c("section",A,[r(z,{show:t.show,onClose:l[3]||(l[3]=s=>v("close")),maxWidth:"xl7"},{default:m(()=>[i("form",{class:"p-6",onSubmit:T(b,["prevent"])},[i("h2",W,_(o.lang().label.add)+" "+_(t.title),1),i("div",G,[(n(),c(P,null,C(g,(s,d)=>i("div",{key:d},[s.type==="time"?(n(),c("div",I,[r(D,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),r(F,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:"",placeholder:s.label,disabled:!!a(y)[s.idd],error:a(e).errors[s.idd],step:"3600",class:"mt-1 block w-full"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","required","disabled","error"]),r(h,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])])):(n(),c("div",J,[r(D,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),r(F,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:!!a(O)[s.idd],disabled:!!a(y)[s.idd],placeholder:s.label,error:a(e).errors[s.idd],class:V([{"bg-gray-300":!!a(y)[s.idd]},"mt-1 block w-full"])},null,8,["id","type","modelValue","onUpdate:modelValue","required","disabled","placeholder","error","class"]),r(h,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])]))])),64)),(n(!0),c(P,null,C(p.provedores,(s,d)=>(n(),c("div",{key:d,id:"SelectVue",class:""},[K,r(a(H),{options:t.losSelect[0],modelValue:a(e).proveedor_id[d],"onUpdate:modelValue":u=>a(e).proveedor_id[d]=u,label:"title"},null,8,["options","modelValue","onUpdate:modelValue"]),r(h,{class:"mt-2",message:a(e).errors["proveedor_id."+d+".value"]},null,8,["message"])]))),128)),i("div",X,[r(k,{type:"button",disabled:a(e).processing,onClick:l[0]||(l[0]=s=>S())},{default:m(()=>[f(" Agregar proveedor ")]),_:1},8,["disabled"]),r(R,{type:"button",disabled:a(e).processing,onClick:l[1]||(l[1]=s=>a(w)())},{default:m(()=>[f(" Quitar proveedor ")]),_:1},8,["disabled"])])]),i("div",Y,[r(q,{disabled:a(e).processing,onClick:l[2]||(l[2]=s=>v("close"))},{default:m(()=>[f(_(o.lang().button.close),1)]),_:1},8,["disabled"]),r(k,{class:V(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:b},{default:m(()=>[f(_(o.lang().button.add)+" "+_(a(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,Q)]),_:1},8,["show"])]))}};export{ne as default};

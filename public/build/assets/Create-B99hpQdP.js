import{l as S,T as $,k as j,m as U,f as r,o as c,a as d,w as u,b as n,d as E,t,F as N,p as B,u as s,e as y,n as F}from"./app-Cq1znuMy.js";import{_}from"./InputError-WpjbGGA7.js";import{_ as V}from"./InputLabel-DT5ITww_.js";import{_ as M}from"./Modal-qBkqJmba.js";import{_ as x}from"./PrimaryButton-C4YOsuaB.js";import{_ as O}from"./SecondaryButton-BnrCYek9.js";import{_ as f}from"./TextInput-CxVKhdog.js";import{C as q}from"./vue-select.es-wsHHmxmz.js";/* empty css                   */import"./vue-datepicker-C1EfqZL1.js";/* empty css             */const P={class:"space-y-6"},T={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={key:0,id:"SelectVue"},D={name:"labelSelectVue"},L={key:1,id:"SelectVue"},R={key:2,class:""},G={class:"my-8 flex justify-end"},se={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,numberPermissions:Number},emits:["close"],setup(v,{emit:k}){const o=v,m=k,w=S({params:{pregunta:""}}),b=o.titulos.map(a=>a.order),l=$({...Object.fromEntries(b.map(a=>[a,""]))});j(()=>{if(o.numberPermissions>8){const a=Math.floor(Math.random()*9+1);l.codigo=a}});const g=[];o.titulos.forEach(a=>g.push({idd:a.order,label:a.label,type:a.type}));const h=()=>{l.post(route("centrotrabajo.store"),{preserveScroll:!0,onSuccess:()=>{m("close"),l.reset()},onError:()=>null,onFinish:()=>null})};return U(()=>{o.show&&(l.errors={})}),(a,p)=>(c(),r("section",P,[d(M,{show:o.show,onClose:p[1]||(p[1]=e=>m("close"))},{default:u(()=>[n("form",{class:"p-6",onSubmit:E(h,["prevent"])},[n("h2",T,t(a.lang().label.add)+" "+t(o.title),1),n("div",z,[(c(),r(N,null,B(g,(e,C)=>n("div",{key:C},[e.type=="id"?(c(),r("div",A,[n("label",D,t(e.label),1),d(s(q),{options:w[e.idd],label:"title",modelValue:s(l)[e.idd],"onUpdate:modelValue":i=>s(l)[e.idd]=i},null,8,["options","modelValue","onUpdate:modelValue"]),d(_,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):e.type=="time"?(c(),r("div",L,[d(V,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(f,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":i=>s(l)[e.idd]=i,required:"",placeholder:e.label,error:s(l).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(_,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):(c(),r("div",R,[d(V,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(f,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":i=>s(l)[e.idd]=i,required:"",placeholder:e.label,error:s(l).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(_,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])]))])),64))]),n("div",G,[d(O,{disabled:s(l).processing,onClick:p[0]||(p[0]=e=>m("close"))},{default:u(()=>[y(t(a.lang().button.close),1)]),_:1},8,["disabled"]),d(x,{class:F(["ml-3",{"opacity-25":s(l).processing}]),disabled:s(l).processing,onClick:h},{default:u(()=>[y(t(a.lang().button.add)+" "+t(s(l).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{se as default};

import{l as E,T as $,k as x,m as B,f as p,o as f,a as r,w as d,b as a,d as N,t as m,F,p as M,u as t,e as c,n as O}from"./app-Cq1znuMy.js";import{_ as v}from"./InputError-WpjbGGA7.js";import{_ as H}from"./InputLabel-DT5ITww_.js";import{_ as U}from"./Modal-qBkqJmba.js";import{_ as b}from"./PrimaryButton-C4YOsuaB.js";import{_ as T}from"./SecondaryButton-BnrCYek9.js";import{_ as q}from"./TextInput-CxVKhdog.js";import{C as z}from"./vue-select.es-wsHHmxmz.js";/* empty css                   */import"./vue-datepicker-C1EfqZL1.js";/* empty css             */const D={class:"space-y-6"},L={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={id:"SelectVue"},G={class:""},I={class:"flex my-5 gap-8"},J={class:"my-8 flex justify-end"},re={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(h,{emit:y}){const n=h,u=y,l=E({params:{pregunta:""},centros:[0],valido:!0,mensajeError:""}),w=n.titulos.map(o=>o.order),e=$({...Object.fromEntries(w.map(o=>[o,""])),centro_id:[n.losSelect[0]]});x(()=>{});const V=[];n.titulos.forEach(o=>V.push({idd:o.order,label:o.label,type:o.type}));let j=()=>{try{l.valido=!0,console.log("ðŸ§ˆ debu form.centro_id:",e.centro_id),e.centro_id.forEach(o=>{if(o.value===0)throw l.valido=!1,console.log("ðŸ§ˆ debu valido:",l.valido),new Error("BreakException")})}catch{}};const _=()=>{j(),l.valido?e.post(route("reproceso.store"),{preserveScroll:!0,onSuccess:()=>{u("close"),e.reset()},onError:()=>null,onFinish:()=>null}):l.mensajeError="Hay elementos vacios"};B(()=>{n.show&&(e.errors={})});function C(){l.centros.push(0),e.centro_id.push(n.losSelect[0])}let S=()=>{l.centros.length=l.centros.length-1,e.centro_id.length=e.centro_id.length-1};return(o,s)=>(f(),p("section",D,[r(U,{show:n.show,onClose:s[4]||(s[4]=i=>u("close"))},{default:d(()=>[a("form",{class:"p-6",onSubmit:N(_,["prevent"])},[a("h2",L,m(o.lang().label.add)+" "+m(n.title),1),a("div",P,[(f(!0),p(F,null,M(l.centros,(i,g)=>(f(),p("div",A,[s[5]||(s[5]=a("label",{name:"labelSelectVue"}," Centro de trabajo ",-1)),r(t(z),{options:n.losSelect,label:"title",modelValue:t(e).centro_id[g],"onUpdate:modelValue":k=>t(e).centro_id[g]=k},null,8,["options","modelValue","onUpdate:modelValue"]),r(v,{class:"mt-2",message:t(e).errors.centro_id},null,8,["message"])]))),256)),a("div",G,[r(H,{for:"nombre",value:o.lang().label.nombre},null,8,["value"]),r(q,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:t(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=i=>t(e).nombre=i),required:"",placeholder:o.nombre,error:t(e).errors.nombre},null,8,["modelValue","placeholder","error"]),r(v,{class:"mt-2",message:t(e).errors.nombre},null,8,["message"])])]),a("div",I,[r(b,{type:"button",disabled:t(e).processing,onClick:s[1]||(s[1]=i=>C())},{default:d(()=>s[6]||(s[6]=[c(" Mas centros ")])),_:1,__:[6]},8,["disabled"]),r(b,{type:"button",disabled:t(e).processing,onClick:s[2]||(s[2]=i=>t(S)())},{default:d(()=>s[7]||(s[7]=[c(" Menos centros ")])),_:1,__:[7]},8,["disabled"])]),a("div",J,[r(T,{disabled:t(e).processing,onClick:s[3]||(s[3]=i=>u("close"))},{default:d(()=>[c(m(o.lang().button.close),1)]),_:1},8,["disabled"]),r(b,{class:O(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing,onClick:_},{default:d(()=>[c(m(o.lang().button.add)+" "+m(t(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{re as default};

import{l as C,T as $,k as j,m as E,f as c,o as p,a,w as _,b as t,d as U,t as i,F as x,p as N,u as o,e as h,n as O}from"./app-Cq1znuMy.js";import{_ as g}from"./InputError-WpjbGGA7.js";import{_ as y}from"./InputLabel-DT5ITww_.js";import{_ as q}from"./Modal-qBkqJmba.js";import{_ as B}from"./PrimaryButton-C4YOsuaB.js";import{_ as F}from"./SecondaryButton-BnrCYek9.js";import{_ as V}from"./TextInput-CxVKhdog.js";/* empty css             */import{C as M}from"./vue-select.es-wsHHmxmz.js";/* empty css                   */const P={class:"space-y-6"},T={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={key:0,id:"SelectVue",class:""},D={name:"labelSelectVue"},H={key:1,id:"SelectVue"},L={key:2,class:""},R={class:"my-8 flex justify-end"},le={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(v,{emit:k}){const d=v,m=k;C({params:{pregunta:""}});let b=d.titulos.map(l=>{if(l.order!=="noquiero")return l.order});const s=$({...Object.fromEntries(b.map(l=>[l,""]))});j(()=>{if(d.numberPermissions>9){const l=Math.floor(Math.random()*9+1);s.nombre="nombre genenerico "+l,s.codigo=l}});const u=[];d.titulos.forEach(l=>{l.order!=="noquiero"&&u.push({idd:l.order,label:l.label,type:l.type})});function w(){let l=!0;return u.forEach(r=>{if(!s[r.idd])return console.log("=>(Create.vue:70) falta esto papa element.idd",r.idd),l=!1,l}),l}const f=()=>{w()?s.post(route("Oferta.store"),{preserveScroll:!0,onSuccess:()=>{m("close"),s.reset()},onError:()=>null,onFinish:()=>null}):console.log("Hay campos vacios")};return E(()=>{d.show&&(s.errors={})}),(l,r)=>(p(),c("section",P,[a(q,{show:d.show,onClose:r[1]||(r[1]=e=>m("close")),maxWidth:"xl4"},{default:_(()=>[t("form",{class:"p-6",onSubmit:U(f,["prevent"])},[t("h2",T,i(l.lang().label.add)+" "+i(d.title),1),t("div",z,[(p(),c(x,null,N(u,(e,S)=>t("div",{key:S},[e.type==="foreign"?(p(),c("div",A,[t("label",D,i(e.label),1),a(o(M),{options:d.losSelect[0],modelValue:o(s)[e.idd],"onUpdate:modelValue":n=>o(s)[e.idd]=n,reduce:n=>n.value,label:"name"},null,8,["options","modelValue","onUpdate:modelValue","reduce"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])])):e.type==="time"?(p(),c("div",H,[a(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:o(s)[e.idd],"onUpdate:modelValue":n=>o(s)[e.idd]=n,required:"",placeholder:e.label,error:o(s).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])])):(p(),c("div",L,[a(y,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:o(s)[e.idd],"onUpdate:modelValue":n=>o(s)[e.idd]=n,required:"",placeholder:e.label,error:o(s).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(g,{class:"mt-2",message:o(s).errors[e.idd]},null,8,["message"])]))])),64))]),t("div",R,[a(F,{disabled:o(s).processing,onClick:r[0]||(r[0]=e=>m("close"))},{default:_(()=>[h(i(l.lang().button.close),1)]),_:1},8,["disabled"]),a(B,{class:O(["ml-3",{"opacity-25":o(s).processing}]),disabled:o(s).processing,onClick:f},{default:_(()=>[h(i(l.lang().button.add)+" "+i(o(s).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{le as default};

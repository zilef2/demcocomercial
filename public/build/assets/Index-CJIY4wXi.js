import{f as l,o as s,b as a,q as F,l as L,Q as M,k as A,s as H,N as Z,m as q,v as j,c,w as h,g as n,a as u,x as y,e as Q,t as p,u as m,z as g,y as T,n as R,F as k,p as v}from"./app-BhGvptmL.js";import{_ as W}from"./AuthenticatedLayout-CL8l85iP.js";import{_ as P}from"./TextInput-XsIzkty-.js";import{_ as V}from"./PrimaryButton-BkUg86Bs.js";import{_ as J}from"./SelectInput-7A83KURJ.js";import{_ as S}from"./DangerButton-rUt0gjYp.js";import{a as z,r as K,_ as X}from"./Pagination-BmLxT3rT.js";import Y from"./Create-CTFlShRU.js";import ee from"./Edit-BUopaFl1.js";import re from"./TerminarReporte-YPyCUuwx.js";import te from"./Delete-BUdwdzLM.js";import se from"./DeleteBulk-DaxHXq79.js";import{_ as oe}from"./Checkbox-CSTSBUgV.js";import{_ as B}from"./InfoButton-B2qbAguV.js";import{d as I,n as _,f as O}from"./global-Dn-lfq_U.js";import{C as ae}from"./vue-select.es-CcZCZQ2N.js";/* empty css                   *//* empty css             */import{r as le}from"./PencilIcon-KSwtZsAy.js";import{r as ne}from"./Toast-DwfMDwwm.js";import"./index-B3YzOLPY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-qjXA3irW.js";import"./InputError-Ck0A_nV9.js";import"./InputLabel-Fsg0RhcG.js";import"./Modal-CWveoFge.js";import"./SecondaryButton-sXq2m4Kv.js";import"./vue-datepicker-BZOCypyi.js";/* empty css                                              */function de(f,x){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1-1.06 1.06l-2.47-2.47V21a.75.75 0 0 1-1.5 0V4.81L8.78 7.28a.75.75 0 0 1-1.06-1.06l3.75-3.75Z","clip-rule":"evenodd"})])}function ie(f,x){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M1.72 5.47a.75.75 0 0 1 1.06 0L9 11.69l3.756-3.756a.75.75 0 0 1 .985-.066 12.698 12.698 0 0 1 4.575 6.832l.308 1.149 2.277-3.943a.75.75 0 1 1 1.299.75l-3.182 5.51a.75.75 0 0 1-1.025.275l-5.511-3.181a.75.75 0 0 1 .75-1.3l3.943 2.277-.308-1.149a11.194 11.194 0 0 0-3.528-5.617l-3.809 3.81a.75.75 0 0 1-1.06 0L1.72 6.53a.75.75 0 0 1 0-1.061Z","clip-rule":"evenodd"})])}const pe={class:"face"},me={__name:"ClockWorking",props:{},setup(f){return(x,w)=>(s(),l("div",pe,w[0]||(w[0]=[a("div",{class:"hand"},[a("div",{class:"hand"},[a("div",{class:"hour"}),a("div",{class:"minute"})])],-1)])))}},ce={class:"space-y-4"},ue={class:"px-4 sm:px-0"},ye={class:"grid grid-cols-1 sm:grid-cols-3 xs:gap-y-2 items-center rounded-lg overflow-hidden w-full mt-1"},fe={class:"bg-white dark:bg-gray-950 shadow sm:rounded-lg 2xl:rounded-2xl relative z-20 -pt-2 pb-2"},be={class:"flex relative z-20 px-2 my-1 h-20 overflow-x-auto overflow-y-hidden py-2"},he={class:"inline-flex gap-6"},ge={key:1,class:"mx-1 mt-4 w-40 flex gap-4"},_e={class:"my-1"},ke={class:"inline-flex my-1"},ve={key:0,class:"mt-4 flex flex-inline gap-4"},xe={class:"mx-4 relative z-20"},we={class:"bg-white dark:bg-gray-950 shadow sm:rounded-lg relative z-10"},Ce={class:"flex max-h-[630px] overflow-y-scroll"},Oe={key:0,class:"w-full"},$e={class:"-mt-1 top-0 bg-gray-200 sticky capitalize text-sm dark:border-gray-700 dark:bg-black"},Te={class:"dark:bg-gray-900/50 text-left"},Pe={key:0,class:"px-2 py-4 text-center dark:bg-black"},Ve=["onClick"],je={class:"flex justify-between items-center"},Se={key:0,class:"w-full bg-white border border-blue-500 inamovible"},ze={class:"dark:bg-gray-900/50 text-left"},Be={class:"px-2 py-4 text-center"},Ie={class:"px-2 py-4 cursor-pointer"},Ge={class:"flex justify-between items-center"},De={class:"w-20 text-sm"},Ee={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ne={key:0},Ue={key:1},Fe={key:2},Le={key:3},Me={key:4},Ae={key:5},He={key:6},Ze={key:7},qe={key:8},Qe={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Re=["value"],We={class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},Je={class:"flex justify-center items-center"},Ke={class:"rounded-md overflow-hidden"},Xe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ye={class:"whitespace-wrap py-4 px-2 sm:py-3"},er={key:0},rr={key:1},tr={key:2},sr={key:3},or={key:4},ar={key:5},lr={key:6},nr={key:7},dr={key:8},ir={key:1,class:"text-center text-xl my-8"},pr={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Fr={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object,valuesGoogleCabeza:Object,valuesGoogleBody:Object,Trabajadores:Object,losOT:Object},setup(f){const{_:x,debounce:w,pickBy:G}=F,o=f,r=L({params:{search:o.filters.searchDate,search2:o.filters.search2,field:o.filters.field,order:o.filters.order,perPage:o.perPage,searchdia:o.filters.searchdia,soloTiEstimado:o.filters.soloTiEstimado,ultimosmeses:o.filters.ultimosmeses,FiltroCentro:o.filters.FiltroCentro},generico:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,TerminarOpen:!1,deleteOpen:!1,dataSet:M().props.app.perpage,totalEmpleados:0,deleteBulkOpen:!1,hayCongelado:0});A(()=>{});const D=(d,t)=>{t&&(r.params.field=d,r.params.order=r.params.order==="asc"?"desc":"asc")};H(()=>x.cloneDeep(r.params),w(()=>{let d=G(r.params);Z.get(route("reporte.index"),d,{replace:!0,preserveState:!0,preserveScroll:!0})},350));const E=d=>{var t;d.target.checked===!1?r.selectedId=[]:(t=o.fromController)==null||t.data.forEach(b=>{r.selectedId.push(b.id)})},N=()=>{var d;r.multipleSelect=((d=o.reportes)==null?void 0:d.data.length)===r.selectedId.length};q(()=>{});const C=[{order:"fecha",label:"fecha",type:"date",CanOrder:!0},{order:"operario_id",label:"operario",type:"foreign",nameid:"operario_s",CanOrder:!0},{order:"hora_inicial",label:"hora inicial",type:"time",CanOrder:!0},{order:"hora_final",label:"hora final",type:"time",CanOrder:!0},{order:"tiempo_transcurrido",label:"Tiempo Transcurrido (mins)",type:"decimal",nameid:"tiempo_transcurrido",CanOrder:!0},{order:"TiempoEstimado",label:"TiempoEstimado",type:"text",CanOrder:!0},{order:"actividad_id",label:"actividad",type:"foreign",nameid:"actividad_s",CanOrder:!0},{order:"centrotrabajo_id",label:"centrotrabajo",type:"foreign",nameid:"centrotrabajo_s",CanOrder:!0},{order:"OTItem",label:"CD o OT",type:"text",CanOrder:!1},{order:"disponibilidad_id",label:"disponibilidad",type:"foreign",nameid:"disponibilidad_s",CanOrder:!0},{order:"reproceso_id",label:"reproceso",type:"foreign",nameid:"reproceso_s",CanOrder:!0}];return(d,t)=>{const b=j("tooltip"),U=j("sticky");return s(),c(W,null,{default:h(()=>[a("div",ce,[a("div",ue,[a("div",ye,[d.can(["create reporte"])?(s(),c(Y,{key:0,numberPermissions:o.numberPermissions,show:r.createOpen,onClose:t[0]||(t[0]=e=>r.createOpen=!1),title:o.title,losSelect:o.losSelect,valuesGoogleCabeza:o.valuesGoogleCabeza,valuesGoogleBody:o.valuesGoogleBody,Trabajadores:o.Trabajadores,losOT:o.losOT},null,8,["numberPermissions","show","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores","losOT"])):n("",!0),d.can(["update reporte"])&&f.numberPermissions>1?(s(),c(ee,{key:1,numberPermissions:o.numberPermissions,show:r.editOpen,onClose:t[1]||(t[1]=e=>r.editOpen=!1),generica:r.generico,title:o.title,losSelect:o.losSelect,valuesGoogleCabeza:o.valuesGoogleCabeza,valuesGoogleBody:o.valuesGoogleBody,Trabajadores:o.Trabajadores},null,8,["numberPermissions","show","generica","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores"])):n("",!0),d.can(["read reporte"])?(s(),c(re,{key:2,numberPermissions:o.numberPermissions,show:r.TerminarOpen,onClose:t[2]||(t[2]=e=>r.TerminarOpen=!1),generica:r.generico,title:o.title},null,8,["numberPermissions","show","generica","title"])):n("",!0),d.can(["delete reporte"])?(s(),c(te,{key:3,numberPermissions:o.numberPermissions,show:r.deleteOpen,onClose:t[3]||(t[3]=e=>r.deleteOpen=!1),generica:r.generico,title:o.title},null,8,["numberPermissions","show","generica","title"])):n("",!0),u(se,{show:r.deleteBulkOpen,onClose:t[4]||(t[4]=e=>(r.deleteBulkOpen=!1,r.multipleSelect=!1,r.selectedId=[])),selectedId:r.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),a("div",fe,[a("div",be,[a("div",he,[u(J,{modelValue:r.params.perPage,"onUpdate:modelValue":t[5]||(t[5]=e=>r.params.perPage=e),dataSet:r.dataSet,class:"mx-auto mt-4"},null,8,["modelValue","dataSet"]),d.can(["create reporte"])?(s(),c(V,{key:0,class:"rounded-md mt-4 mx-4 items-center w-[160px]",onClick:t[6]||(t[6]=e=>r.createOpen=!0)},{default:h(()=>[Q(p(d.lang().button.add)+" "+p(o.title),1)]),_:1})):n("",!0),y((s(),c(S,{onClick:t[7]||(t[7]=e=>r.deleteBulkOpen=!0),class:"px-3 py-1.5 h-10 my-auto"},{default:h(()=>[u(m(z),{class:"w-5 h-5"})]),_:1})),[[g,r.selectedId.length!==0&&d.can(["delete reporte"])],[b,d.lang().tooltip.delete_selected]]),y((s(),c(V,{onClick:t[8]||(t[8]=e=>r.hayCongelado=r.selectedId[0]),class:"px-3 py-1.5 h-10 my-auto"},{default:h(()=>[u(m(de),{class:"w-5 h-5"})]),_:1})),[[g,r.selectedId.length!==0&&d.can(["delete reporte"])],[b,"Congelar"]]),f.numberPermissions>1?(s(),l("div",ge,[a("div",_e,[t[19]||(t[19]=a("label",{for:"soloval",class:"text-sm mx-2 whitespace-nowrap"},"Tiempo Estimado",-1)),f.filters!==null?y((s(),l("input",{key:0,"onUpdate:modelValue":t[9]||(t[9]=e=>r.params.soloTiEstimado=e),id:"soloval",type:"checkbox",class:"bg-gray-200 h-5 w-5 ml-[12px]"},null,512)),[[T,r.params.soloTiEstimado]]):n("",!0),a("div",ke,[t[18]||(t[18]=a("label",{for:"soloval",class:"text-sm mx-2 whitespace-nowrap"},"Mostrar todos",-1)),f.filters!==null?y((s(),l("input",{key:0,"onUpdate:modelValue":t[10]||(t[10]=e=>r.params.ultimosmeses=e),id:"soloval",type:"checkbox",class:"bg-gray-200 h-5 w-5 ml-[34px]"},null,512)),[[T,r.params.ultimosmeses]]):n("",!0)])])])):n("",!0)]),f.numberPermissions>1?(s(),l("div",ve,[a("div",xe,[u(m(ae),{options:o.losSelect.centrotrabajo,label:"title",class:R(["dark:bg-gray-400 mt-1 w-[300px] fixed z-20",{"z-[9999] relative":!0}]),modelValue:r.params.FiltroCentro,"onUpdate:modelValue":t[11]||(t[11]=e=>r.params.FiltroCentro=e)},null,8,["options","modelValue"])]),o.numberPermissions>1?(s(),c(P,{key:0,modelValue:r.params.searchdia,"onUpdate:modelValue":t[12]||(t[12]=e=>r.params.searchdia=e),type:"number",max:"31",min:"0",class:"mx-1 xl:mr-2 w-32 rounded-lg sm:h-6 lg:h-12 mt-1",placeholder:"DÃ­a"},null,8,["modelValue"])):n("",!0),o.numberPermissions>1?(s(),c(P,{key:1,modelValue:r.params.search2,"onUpdate:modelValue":t[13]||(t[13]=e=>r.params.search2=e),type:"text",class:"mx-2 w-72 rounded-lg h-6 lg:h-12 mt-1",placeholder:"Persona"},null,8,["modelValue"])):n("",!0),o.numberPermissions>1?(s(),c(P,{key:2,modelValue:r.params.searchDate,"onUpdate:modelValue":t[14]||(t[14]=e=>r.params.searchDate=e),type:"date",class:"mx-1 xl:mr-2 w-32 rounded-lg sm:h-6 lg:h-12 mt-1"},null,8,["modelValue"])):n("",!0)])):n("",!0)])]),a("div",we,[a("div",Ce,[o.total>0?(s(),l("table",Oe,[a("thead",$e,[a("tr",Te,[o.numberPermissions>1?(s(),l("th",Pe,[u(oe,{checked:r.multipleSelect,"onUpdate:checked":t[15]||(t[15]=e=>r.multipleSelect=e),onChange:E},null,8,["checked"])])):n("",!0),t[20]||(t[20]=a("th",{class:"px-2 py-4"},"Accion",-1)),t[21]||(t[21]=a("th",{class:"px-2 py-4 text-center"},"#",-1)),(s(),l(k,null,v(C,e=>a("th",{class:"px-2 py-4 cursor-pointer min-w-min",onClick:$=>D(e.order,e.CanOrder)},[a("div",je,[a("span",null,p(d.lang().label[e.label]),1),e.CanOrder?(s(),c(m(K),{key:0,class:"w-4 h-4"})):n("",!0)])],8,Ve)),64))])]),a("tbody",null,[r.hayCongelado!==0?y((s(),l("div",Se,[a("tr",ze,[t[22]||(t[22]=a("th",{class:"px-2 py-4"},null,-1)),t[23]||(t[23]=a("th",{class:"px-2 py-4"},null,-1)),a("th",Be,[y((s(),c(V,{onClick:t[16]||(t[16]=e=>r.hayCongelado=0),class:"px-3 py-1.5"},{default:h(()=>[u(m(ie),{class:"w-5 h-5"})]),_:1})),[[g,r.hayCongelado&&d.can(["delete reporte"])],[b,"Descongelar"]])]),(s(),l(k,null,v(C,e=>a("th",Ie,[a("div",Ge,[a("p",De,p(d.lang().label[e.label]),1)])])),64))]),a("tr",null,[t[24]||(t[24]=a("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},null,-1)),t[25]||(t[25]=a("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},null,-1)),t[26]||(t[26]=a("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},null,-1)),(s(),l(k,null,v(C,e=>a("td",Ee,[e.type==="text"?(s(),l("span",Ne,p(o.fromController.data[0][e.order]),1)):n("",!0),e.type==="time"?(s(),l("span",Ue,p(m(I)(o.fromController.data[0][e.order])),1)):n("",!0),e.type==="number"?(s(),l("span",Fe,p(m(_)(o.fromController.data[0][e.order],0,!1)),1)):n("",!0),e.type==="decimal"?(s(),l("span",Le,p(m(_)(o.fromController.data[0][e.order],1,!1)),1)):n("",!0),e.type==="dinero"?(s(),l("span",Me,p(m(_)(o.fromController.data[0][e.order],0,!0)),1)):n("",!0),e.type==="date"?(s(),l("span",Ae,p(m(O)(o.fromController.data[0][e.order],"")),1)):n("",!0),e.type==="datetime"?(s(),l("span",He,p(m(O)(o.fromController.data[0][e.order],"conLaHora")),1)):n("",!0),e.type==="foreign"?(s(),l("span",Ze,p(o.fromController.data[0][e.nameid]),1)):n("",!0),e.order==="hora_final"&&o.fromController.data[0][e.order]==null?(s(),l("span",qe," - ")):n("",!0)])),64))])])),[[U,{zIndex:100}]]):n("",!0),(s(!0),l(k,null,v(o.fromController.data,(e,$)=>(s(),l("tr",{key:$,class:"hover:dark:bg-gray-900/20"},[o.numberPermissions>1?(s(),l("td",Qe,[y(a("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:N,value:e.id,"onUpdate:modelValue":t[17]||(t[17]=i=>r.selectedId=i)},null,40,Re),[[T,r.selectedId]])])):n("",!0),a("td",We,[a("div",Je,[a("div",Ke,[y((s(),c(B,{type:"button",onClick:i=>(r.editOpen=!0,r.generico=e),class:"px-2 py-1.5 rounded-none"},{default:h(()=>[u(m(le),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,d.can(["update reporte"])],[b,d.lang().tooltip.edit]]),e.hora_final?n("",!0):y((s(),c(B,{key:0,type:"button",onClick:i=>(r.TerminarOpen=!0,r.generico=e),class:"px-2 py-1.5 rounded-none"},{default:h(()=>[u(m(ne),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,d.can(["create reporte"])],[b,d.lang().tooltip.finalizarTarea]]),y((s(),c(S,{type:"button",onClick:i=>(r.deleteOpen=!0,r.generico=e),class:"px-2 py-1.5 rounded-none"},{default:h(()=>[u(m(z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,d.can(["delete reporte"])],[b,d.lang().tooltip.delete]])])])]),a("td",Xe,p(++$),1),(s(),l(k,null,v(C,i=>a("td",Ye,[i.type==="text"?(s(),l("span",er,p(e[i.order]),1)):n("",!0),i.type==="time"?(s(),l("span",rr,p(m(I)(e[i.order])),1)):n("",!0),i.type==="number"?(s(),l("span",tr,p(m(_)(e[i.order],0,!1)),1)):n("",!0),i.type==="decimal"?(s(),l("span",sr,p(m(_)(e[i.order],1,!1)),1)):n("",!0),i.type==="dinero"?(s(),l("span",or,p(m(_)(e[i.order],0,!0)),1)):n("",!0),i.type==="date"?(s(),l("span",ar,p(m(O)(e[i.order],"")),1)):n("",!0),i.type==="datetime"?(s(),l("span",lr,p(m(O)(e[i.order],"conLaHora")),1)):n("",!0),i.type==="foreign"?(s(),l("span",nr,p(e[i.nameid]),1)):n("",!0),i.order==="hora_final"&&e[i.order]==null?(s(),l("span",dr,[u(me)])):n("",!0)])),64))]))),128))])])):(s(),l("h2",ir,"Sin Registros"))]),o.total>0?(s(),l("div",pr,[u(X,{links:o.fromController,filters:r.params},null,8,["links","filters"])])):n("",!0)])])]),_:1})}}};export{Fr as default};

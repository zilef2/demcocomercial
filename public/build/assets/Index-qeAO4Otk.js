import{q as B,l as P,Q as E,s as A,N as D,T as U,m as F,v as T,f as g,o as d,a,u as i,Z as z,w as y,b as e,x as m,c as u,g as w,e as k,t as o,z as h,F as $,p as L,y as M}from"./app-BhGvptmL.js";import{r as Q,_ as Z}from"./AuthenticatedLayout-CL8l85iP.js";import{_ as G}from"./Breadcrumb-u74U_Jre.js";import{_ as H}from"./TextInput-XsIzkty-.js";import{_ as J}from"./PrimaryButton-BkUg86Bs.js";import{_ as K}from"./InfoButton-B2qbAguV.js";import{_ as R}from"./SelectInput-7A83KURJ.js";import{_ as C}from"./DangerButton-rUt0gjYp.js";import{a as O,r as c,_ as W}from"./Pagination-BmLxT3rT.js";import X from"./Create-CF_nZ6sJ.js";import Y from"./Edit-BzJcmKKD.js";import ee from"./Delete-DR789XlS.js";import te from"./DeleteBulk-sYKwAxhB.js";import{_ as se}from"./Checkbox-CSTSBUgV.js";import{C as re}from"./global-Dn-lfq_U.js";import{r as le}from"./PencilIcon-KSwtZsAy.js";import"./index-B3YzOLPY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-qjXA3irW.js";import"./Toast-DwfMDwwm.js";/* empty css                                              */import"./InputError-Ck0A_nV9.js";import"./InputLabel-Fsg0RhcG.js";import"./Modal-CWveoFge.js";import"./SecondaryButton-sXq2m4Kv.js";import"./vue-datepicker-BZOCypyi.js";/* empty css             */import"./vue-select.es-CcZCZQ2N.js";/* empty css                   */const ae={class:"space-y-4"},oe={class:"px-4 sm:px-0"},ne={class:"rounded-lg overflow-hidden w-fit"},ie={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},de={class:"flex justify-between p-2"},pe={class:"flex space-x-2"},ce={class:"overflow-x-auto scrollbar-table"},me={class:"w-full"},ue={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},fe={class:"dark:bg-gray-900/50 text-left"},ye={class:"px-2 py-4 text-center"},he={class:"flex justify-between items-center"},be={class:"px-2 py-4"},ge={class:"flex justify-between items-center"},we={class:"flex justify-between items-center"},_e={class:"flex justify-between items-center"},xe={class:"flex justify-between items-center"},ve={class:"flex justify-between items-center"},ke={class:"flex justify-between items-center"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ce=["value"],Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},je={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Se={class:"flex justify-start items-center"},Ie={key:0},Ne={class:"flex justify-start items-center text-sm text-gray-600"},Ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},qe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Pe={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},Ee={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ae={class:"whitespace-nowrap py-4 px-2 sm:py-3"},De={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ue={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Fe={class:"flex justify-center items-center"},Te={class:"rounded-md overflow-hidden"},ze={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},bt={__name:"Index",props:{title:String,filters:Object,users:Object,roles:Object,breadcrumbs:Object,perPage:Number,numberPermissions:Number},setup(b){const{_:j,debounce:S,pickBy:I}=B,n=b,t=P({params:{search:n.filters.search,field:n.filters.field,order:n.filters.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,user:null,ArchivoNombre:"",dataSet:E().props.app.perpage}),p=l=>{t.params.field=l,console.log("ðŸ§ˆ debu data.params.field:",t.params.field),t.params.order=t.params.order==="asc"?"desc":"asc",console.log("ðŸ§ˆ debu data.params.order:",t.params.order)};A(()=>j.cloneDeep(t.params),S(()=>{let l=I(t.params);D.get(route("user.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const N=l=>{var s;l.target.checked===!1?t.selectedId=[]:(s=n.users)==null||s.data.forEach(f=>{t.selectedId.push(f.id)})},V=()=>{var l;((l=n.users)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1},q=U({archivo1:""});F(()=>{var l;t.ArchivoNombre=(l=q.archivo1)==null?void 0:l.name});const x=[{order:"name",label:"Nombre",type:"text",required:!0},{order:"email",label:"Email",type:"text",required:!0},{order:"identificacion",label:"Identificacion",type:"text",required:!0},{order:"area",label:"area",type:"text",required:!0},{order:"cargo",label:"cargo",type:"text",required:!0},{order:"sexo",label:"sexo",type:"foreign",nameid:"sexo_S",required:!1},{order:"celular",label:"celular",type:"text",required:!1},{order:"fecha_nacimiento",label:"Fecha nacimiento",type:"date",required:!1}];return(l,s)=>{const f=T("tooltip");return d(),g($,null,[a(i(z),{title:n.title},null,8,["title"]),a(Z,null,{default:y(()=>[a(G,{title:b.title,breadcrumbs:b.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",ae,[e("div",oe,[e("div",ne,[m(a(J,{class:"rounded-none",onClick:s[0]||(s[0]=r=>t.createOpen=!0)},{default:y(()=>[k(o(l.lang().button.add),1)]),_:1},512),[[h,l.can(["create user"])]]),l.can(["create user"])?(d(),u(X,{key:0,show:t.createOpen,onClose:s[1]||(s[1]=r=>t.createOpen=!1),roles:n.roles,title:n.title,titulos:x},null,8,["show","roles","title"])):w("",!0),l.can(["update user"])?(d(),u(Y,{key:1,show:t.editOpen,onClose:s[2]||(s[2]=r=>t.editOpen=!1),user:t.user,roles:n.roles,title:n.title,titulos:x},null,8,["show","user","roles","title"])):w("",!0),a(ee,{show:t.deleteOpen,onClose:s[3]||(s[3]=r=>t.deleteOpen=!1),user:t.user,title:n.title},null,8,["show","user","title"]),a(te,{show:t.deleteBulkOpen,onClose:s[4]||(s[4]=r=>(t.deleteBulkOpen=!1,t.multipleSelect=!1,t.selectedId=[])),selectedId:t.selectedId,title:n.title},null,8,["show","selectedId","title"])])]),e("div",ie,[e("div",de,[e("div",pe,[a(R,{modelValue:t.params.perPage,"onUpdate:modelValue":s[5]||(s[5]=r=>t.params.perPage=r),dataSet:t.dataSet},null,8,["modelValue","dataSet"]),m((d(),u(C,{onClick:s[6]||(s[6]=r=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:y(()=>[a(i(O),{class:"w-5 h-5"})]),_:1})),[[h,t.selectedId.length!=0&&l.can(["delete user"])],[f,l.lang().tooltip.delete_selected]])]),n.numberPermissions>1?(d(),u(H,{key:0,modelValue:t.params.search,"onUpdate:modelValue":s[7]||(s[7]=r=>t.params.search=r),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Nombre, correo o identificaciÃ³n"},null,8,["modelValue"])):w("",!0)]),e("div",ce,[e("table",me,[e("thead",ue,[e("tr",fe,[e("th",ye,[a(se,{checked:t.multipleSelect,"onUpdate:checked":s[8]||(s[8]=r=>t.multipleSelect=r),onChange:N},null,8,["checked"])]),s[17]||(s[17]=e("th",{class:"px-2 py-4 text-center"},"#",-1)),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=r=>p("name"))},[e("div",he,[e("span",null,o(l.lang().label.name),1),a(i(c),{class:"w-4 h-4"})])]),e("th",be,o(l.lang().label.role),1),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[10]||(s[10]=r=>p("identificacion"))},[e("div",ge,[e("span",null,o(l.lang().label.identificacion),1),a(i(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[11]||(s[11]=r=>p("sexo"))},[e("div",we,[e("span",null,o(l.lang().label.sexo),1),a(i(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[12]||(s[12]=r=>p("fecha_nacimiento"))},[e("div",_e,[e("span",null,o(l.lang().label.edad),1),a(i(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[13]||(s[13]=r=>p("celular"))},[e("div",xe,[e("span",null,o(l.lang().label.celular),1),a(i(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[14]||(s[14]=r=>p("area"))},[e("div",ve,[e("span",null,o(l.lang().label.area),1),a(i(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[15]||(s[15]=r=>p("cargo"))},[e("div",ke,[e("span",null,o(l.lang().label.cargo),1),a(i(c),{class:"w-4 h-4"})])]),s[18]||(s[18]=e("th",{class:"px-2 py-4"},"Accion",-1))])]),e("tbody",null,[(d(!0),g($,null,L(b.users.data,(r,v)=>(d(),g("tr",{key:v,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e("td",$e,[m(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:V,value:r.id,"onUpdate:modelValue":s[16]||(s[16]=_=>t.selectedId=_)},null,40,Ce),[[M,t.selectedId]])]),e("td",Oe,o(++v),1),e("td",je,[e("span",Se,[k(o(r.name)+" -- ",1),n.numberPermissions>9?(d(),g("small",Ie,o(r.id),1)):w("",!0),m(a(i(Q),{class:"ml-[2px] w-4 h-4 text-primary dark:text-white"},null,512),[[h,r.email_verified_at]])]),e("span",Ne,o(r.email),1)]),e("td",Ve,o(r.roles.length==0?"not selected":r.roles[0].name),1),e("td",qe,o(r.identificacion),1),e("td",Be,o(r.sexo),1),e("td",Pe,o(i(re)(r.fecha_nacimiento)),1),e("td",Ee,o(r.celular),1),e("td",Ae,o(r.area),1),e("td",De,o(r.cargo),1),e("td",Ue,[e("div",Fe,[e("div",Te,[m((d(),u(K,{type:"button",onClick:_=>(t.editOpen=!0,t.user=r),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[a(i(le),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,l.can(["update user"])],[f,l.lang().tooltip.edit]]),m((d(),u(C,{type:"button",onClick:_=>(t.deleteOpen=!0,t.user=r),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[a(i(O),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,l.can(["delete user"])],[f,l.lang().tooltip.delete]])])])])]))),128))])])]),e("div",ze,[a(W,{links:n.users,filters:t.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{bt as default};

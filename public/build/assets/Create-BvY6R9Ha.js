import{l as E,T as N,k as T,m as B,f as p,o as f,a as s,w as m,b as a,d as O,t as d,u as t,F as A,p as M,e as c,n as U}from"./app-BhGvptmL.js";import{_ as v}from"./InputError-Ck0A_nV9.js";import{_ as V}from"./InputLabel-Fsg0RhcG.js";import{_ as F}from"./Modal-CWveoFge.js";import{_ as b}from"./PrimaryButton-BkUg86Bs.js";import{_ as H}from"./SecondaryButton-sXq2m4Kv.js";import{_ as q}from"./TextInput-XsIzkty-.js";import{C as h}from"./vue-select.es-CcZCZQ2N.js";/* empty css                   */import"./vue-datepicker-BZOCypyi.js";/* empty css             */import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"space-y-6"},I={class:"mb-[230px]"},L={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:""},J={id:"SelectVue"},K={class:"flex my-5 gap-8"},Q={class:"flex my-8 justify-end"},R={class:"text-lg mx-8 text-red-500"},W={__name:"Create",props:{show:Boolean,title:String,roles:Object,losSelect:Object,titulos:Object,numberPermissions:Number},emits:["close"],setup(k,{emit:w}){const i=k,u=w,r=E({params:{pregunta:""},centros:[0],valido:!0,mensajeError:""}),y=i.titulos.map(l=>l.order),e=N({...Object.fromEntries(y.map(l=>[l,""])),centro_id:[i.losSelect[0]]});T(()=>{});let j=()=>{try{if(r.valido=!0,!e.nombre||!e.tipo)throw r.valido=!1,new Error("BreakException")}catch{r.valido=!1}};const _=()=>{j(),r.valido?e.post(route("actividad.store"),{preserveScroll:!0,onSuccess:()=>{u("close"),e.reset()},onError:()=>null,onFinish:()=>null}):r.mensajeError="Hay elementos vacios"};B(()=>{i.show&&(e.errors={})});function x(){r.centros.push(0),e.centro_id.push(i.losSelect[0])}let C=()=>{r.centros.length=r.centros.length-1,e.centro_id.length=e.centro_id.length-1};const S=[{title:"Seleccione un tipo",value:0},{title:"TVA",value:"TVA"},{title:"TNVA",value:"TNVA"}];return(l,o)=>(f(),p("section",D,[s(F,{show:i.show,onClose:o[5]||(o[5]=n=>u("close"))},{default:m(()=>[a("form",{class:"p-6",onSubmit:O(_,["prevent"])},[a("div",I,[a("h2",L,d(l.lang().label.add)+" "+d(i.title),1),a("div",P,[a("div",G,[s(V,{for:"nombre",value:l.lang().label.nombre},null,8,["value"]),s(q,{id:"nombre",type:"text",class:"mt-1 h-8 block w-full",modelValue:t(e).nombre,"onUpdate:modelValue":o[0]||(o[0]=n=>t(e).nombre=n),required:"",placeholder:l.nombre,error:t(e).errors.nombre},null,8,["modelValue","placeholder","error"]),s(v,{class:"mt-2",message:t(e).errors.nombre},null,8,["message"])]),a("div",null,[s(V,{for:"tipo",value:l.lang().label.Tipo},null,8,["value"]),s(t(h),{options:S,label:"title",class:"dark:bg-gray-400 rounded-lg dark:text-white",modelValue:t(e).tipo,"onUpdate:modelValue":o[1]||(o[1]=n=>t(e).tipo=n)},null,8,["modelValue"])]),(f(!0),p(A,null,M(r.centros,(n,g)=>(f(),p("div",J,[o[6]||(o[6]=a("label",{name:"labelSelectVue",class:"dark:text-white"}," Centro de trabajo ",-1)),s(t(h),{options:i.losSelect,label:"title",class:"dark:bg-gray-400 rounded-lg dark:text-white",modelValue:t(e).centro_id[g],"onUpdate:modelValue":$=>t(e).centro_id[g]=$},null,8,["options","modelValue","onUpdate:modelValue"]),s(v,{class:"mt-2",message:t(e).errors.centro_id},null,8,["message"])]))),256))]),a("div",K,[s(b,{type:"button",disabled:t(e).processing,onClick:o[2]||(o[2]=n=>x())},{default:m(()=>o[7]||(o[7]=[c(" Mas centros ")])),_:1,__:[7]},8,["disabled"]),s(b,{type:"button",disabled:t(e).processing,onClick:o[3]||(o[3]=n=>t(C)())},{default:m(()=>o[8]||(o[8]=[c(" Menos centros ")])),_:1,__:[8]},8,["disabled"])])]),a("div",Q,[a("p",R,d(r.mensajeError),1),s(H,{disabled:t(e).processing,onClick:o[4]||(o[4]=n=>u("close"))},{default:m(()=>[c(d(l.lang().button.close),1)]),_:1},8,["disabled"]),s(b,{class:U(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing,onClick:_},{default:m(()=>[c(d(l.lang().button.add)+" "+d(t(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}},de=z(W,[["__scopeId","data-v-3605829d"]]);export{de as default};

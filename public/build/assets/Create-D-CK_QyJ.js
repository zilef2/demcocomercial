import{k as B,T as E,l as M,s as N,m as T,f as c,o as n,a as l,w as m,b as t,d as z,t as f,F as P,p as C,u as a,n as V,e as _}from"./app-BhGvptmL.js";import{_ as y}from"./InputError-Ck0A_nV9.js";import{_ as D}from"./InputLabel-Fsg0RhcG.js";import{_ as q}from"./Modal-CWveoFge.js";import{_ as k}from"./PrimaryButton-BkUg86Bs.js";import{_ as R}from"./SecondaryButton-sXq2m4Kv.js";import{_ as H}from"./DangerButton-rUt0gjYp.js";import{_ as F}from"./TextInput-XsIzkty-.js";/* empty css             */import{C as O}from"./vue-select.es-CcZCZQ2N.js";/* empty css                   */const h={Codigo:!1,Descripcion:!1,"Tipo Fabricante":!1,"Referencia Fabricante":!1,Marca:!1,"Unidad de Compra":!1,"Fecha actualizacion":!0,"Precio de Lista":!1,"Descuento Basico":!1,"Descuento Proyectos":!1,"Precio con Descuento":!0,"Precio con Descuento Proyecto":!0,"Precio Ultima Compra":!1,"Precios de Listas":!1,"Ruta Tiempos":!1,"Tiempos Chapisteria":!1},A={Codigo:!0,Descripcion:!0,"Tipo Fabricante":!0,"Referencia Fabricante":!0,Marca:!0,"Unidad de Compra":!0,"Fecha actualizacion":!1,"Precio de Lista":!0,"Descuento Basico":!0,"Descuento Proyectos":!0,"Precio con Descuento":!1,"Precio con Descuento Proyecto":!1,"Precio Ultima Compra":!1,"Precios de Listas":!0,"Ruta Tiempos":!0,"Tiempos Chapisteria":!0},Q={class:"space-y-6"},W={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 2xl:gap-8"},I={key:0,id:"SelectVue"},J={key:1,class:""},K={class:"flex my-5 gap-8"},X={class:"my-8 flex justify-end"},ce={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(j,{emit:w}){const i=j;B(()=>{if(i.numberPermissions>9){const o=Math.floor(Math.random()*900+1),r=Math.floor(Math.random()*9+1);e.codigo="ejemplo "+o,e.descripcion="Descripcion: "+o+20,e.tipo_fabricante="ejemplo "+o+1,e.proveeNombre="ejemplo "+o+2,e.referencia_fabricante="ejemplo "+o+3,e.unidad_de_compra="Unidad de compra "+o+5,e.precio_de_lista=o+50001,e.fecha_actualizacion="2025-06-24",e.descuento_basico=r*4,e.descuento_proyectos=r+1,e.precio_con_descuento=o+11e3,e.precio_con_descuento_proyecto=o+11e3,e.precio_ultima_compra=o+11e3,e.precios_de_listas=o*12,e.ruta_tiempos="ruta "+o+13,e.tiempos_chapisteria=o+14}});const g=w,p=M({params:{pregunta:""},provedores:[0]});function S(){p.provedores.push(0),e.proveedor_id.push(i.losSelect[0][0])}let U=()=>{p.provedores.length>1&&(p.provedores.length=p.provedores.length-1,e.proveedor_id.length=e.proveedor_id.length-1)},$=i.titulos.map(o=>{if(o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion")return o.order});const e=E({...Object.fromEntries($.map(o=>[o,""])),proveedor_id:[i.losSelect[0][0]]}),v=[];i.titulos.forEach(o=>{o.order!=="proveeNombre"&&o.order!=="Fecha actualizacion"&&v.push({idd:o.order,label:o.label,type:o.type})});const x=o=>{console.log("=>(Create.vue:102) valor ",o),e["Precio con Descuento"]=+(e["Precio de Lista"]*(1-e["Descuento Basico"])).toFixed(2),e["Precio con Descuento Proyecto"]=+(e["Precio de Lista"]*(1-e["Descuento Proyectos"])).toFixed(2)};["Precio de Lista","Descuento Basico","Descuento Proyectos"].forEach(o=>{N(()=>e[o],r=>{x(r)})}),T(()=>{i.show&&(e.errors={})});function L(){let o=!0;return v.forEach(r=>{if(!e[r.idd])return console.log("=>(Create.vue:70) falta esto papa element.idd",r.idd),o=!1,o}),o}const b=()=>{L()?e.post(route("Equipo.store"),{preserveScroll:!0,onSuccess:()=>{g("close"),e.reset()},onError:()=>null,onFinish:()=>null}):(console.log("Hay campos vacios"),alert("Hay campos vacios"))};return(o,r)=>(n(),c("section",Q,[l(q,{show:i.show,onClose:r[3]||(r[3]=s=>g("close")),maxWidth:"xl7"},{default:m(()=>[t("form",{class:"p-6",onSubmit:z(b,["prevent"])},[t("h2",W,f(o.lang().label.add)+" "+f(i.title),1),t("div",G,[(n(),c(P,null,C(v,(s,d)=>t("div",{key:d},[s.type==="time"?(n(),c("div",I,[l(D,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),l(F,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:"",placeholder:s.label,disabled:!!a(h)[s.idd],error:a(e).errors[s.idd],step:"3600",class:"mt-1 block w-full"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","required","disabled","error"]),l(y,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])])):(n(),c("div",J,[l(D,{for:s.label,value:o.lang().label[s.label]},null,8,["for","value"]),l(F,{id:s.idd,type:s.type,modelValue:a(e)[s.idd],"onUpdate:modelValue":u=>a(e)[s.idd]=u,required:!!a(A)[s.idd],disabled:!!a(h)[s.idd],placeholder:s.label,error:a(e).errors[s.idd],class:V([{"bg-gray-300":!!a(h)[s.idd]},"mt-1 block w-full"])},null,8,["id","type","modelValue","onUpdate:modelValue","required","disabled","placeholder","error","class"]),l(y,{class:"mt-2",message:a(e).errors[s.idd]},null,8,["message"])]))])),64)),(n(!0),c(P,null,C(p.provedores,(s,d)=>(n(),c("div",{key:d,id:"SelectVue",class:""},[r[4]||(r[4]=t("label",{name:"labelSelectVue"}," Proveedor ",-1)),l(a(O),{options:i.losSelect[0],modelValue:a(e).proveedor_id[d],"onUpdate:modelValue":u=>a(e).proveedor_id[d]=u,label:"title"},null,8,["options","modelValue","onUpdate:modelValue"]),l(y,{class:"mt-2",message:a(e).errors["proveedor_id."+d+".value"]},null,8,["message"])]))),128)),t("div",K,[l(k,{type:"button",disabled:a(e).processing,onClick:r[0]||(r[0]=s=>S())},{default:m(()=>r[5]||(r[5]=[_(" Agregar proveedor ")])),_:1,__:[5]},8,["disabled"]),l(H,{type:"button",disabled:a(e).processing,onClick:r[1]||(r[1]=s=>a(U)())},{default:m(()=>r[6]||(r[6]=[_(" Quitar proveedor ")])),_:1,__:[6]},8,["disabled"])])]),t("div",X,[l(R,{disabled:a(e).processing,onClick:r[2]||(r[2]=s=>g("close"))},{default:m(()=>[_(f(o.lang().button.close),1)]),_:1},8,["disabled"]),l(k,{class:V(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:b},{default:m(()=>[_(f(o.lang().button.add)+" "+f(a(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{ce as default};

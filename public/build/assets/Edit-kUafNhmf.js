import{l as F,T as q,m as B,k as M,f as t,o as c,a as d,w as y,b as r,d as N,t as m,F as O,p as T,u as s,e as w,n as x}from"./app-BhGvptmL.js";import{_ as p}from"./InputError-Ck0A_nV9.js";import{_ as g}from"./InputLabel-Fsg0RhcG.js";import{_ as z}from"./Modal-CWveoFge.js";import{_ as D}from"./PrimaryButton-BkUg86Bs.js";import{_ as L}from"./SecondaryButton-sXq2m4Kv.js";import{_ as A}from"./SelectInput-7A83KURJ.js";import{_ as S}from"./TextInput-XsIzkty-.js";import{o as G}from"./vue-datepicker-BZOCypyi.js";/* empty css             */import{C as H}from"./vue-select.es-CcZCZQ2N.js";/* empty css                   */const I={class:"space-y-6"},J={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P={key:0,id:"SelectVue"},Q={name:"labelSelectVue"},R={key:1,id:"SelectVue"},W={key:2,id:"SelectVue"},X={key:3,class:""},Y={class:"flex justify-end my-8"},me={__name:"Edit",props:{show:Boolean,title:String,user:Object,titulos:Object,roles:Object},emits:["close"],setup(U,{emit:$}){var f;const o=U,_=$,b=F({params:{pregunta:""},sexo:[{title:"Masculino",value:"Masculino"},{title:"Femenino",value:"Femenino"}]}),C=o.titulos.map(a=>a.order);let l=q({...Object.fromEntries(C.map(a=>[a,""])),role:""});const V=[];o.titulos.forEach(a=>V.push({idd:a.order,label:a.label,type:a.type}));const v=()=>{var a;l.put(route("user.update",(a=o.user)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{_("close"),l.reset()},onError:()=>null,onFinish:()=>null})};B(()=>{var a,i,e,u,n,h,k;o.show&&(l.errors={},l.name=(a=o.user)==null?void 0:a.name,l.email=(i=o.user)==null?void 0:i.email,l.role=((e=o.user)==null?void 0:e.roles)==0?"":(u=o.user)==null?void 0:u.roles[0].name,l.identificacion=(n=o.user)==null?void 0:n.identificacion,l.sexo=(h=o.user)==null?void 0:h.sexo,l.fecha_nacimiento=(k=o.user)==null?void 0:k.fecha_nacimiento,l.errors={})}),M(()=>{});const j=(f=o.roles)==null?void 0:f.map(a=>({label:a.name.replace(/_/g," "),value:a.name})),E=["year","month","calendar"];return(a,i)=>(c(),t("section",I,[d(z,{show:o.show,onClose:i[2]||(i[2]=e=>_("close"))},{default:y(()=>[r("form",{class:"p-6 mb-12",onSubmit:N(v,["prevent"])},[r("h2",J,m(a.lang().label.edit)+" "+m(o.title),1),r("div",K,[(c(),t(O,null,T(V,(e,u)=>r("div",{key:u},[e.type=="foreign"?(c(),t("div",P,[r("label",Q,m(e.label),1),d(s(H),{options:b[e.idd],label:"title",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n},null,8,["options","modelValue","onUpdate:modelValue"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):e.type=="time"?(c(),t("div",R,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(S,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):e.type=="date"?(c(),t("div",W,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(s(G),{"is-24":!1,"day-names":a.daynames,format:a.formatToVue,flow:E,"auto-apply":"","enable-time-picker":!1,id:e.idd,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd]},null,8,["day-names","format","id","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])])):(c(),t("div",X,[d(g,{for:e.label,value:a.lang().label[e.label]},null,8,["for","value"]),d(S,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:s(l)[e.idd],"onUpdate:modelValue":n=>s(l)[e.idd]=n,required:"",placeholder:e.label,error:s(l).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),d(p,{class:"mt-2",message:s(l).errors[e.idd]},null,8,["message"])]))])),64)),r("div",null,[d(g,{for:"role",value:a.lang().label.role},null,8,["value"]),d(A,{id:"role",class:"mt-1 block w-full",modelValue:s(l).role,"onUpdate:modelValue":i[0]||(i[0]=e=>s(l).role=e),required:"",dataSet:s(j)},null,8,["modelValue","dataSet"]),d(p,{class:"mt-2",message:s(l).errors.role},null,8,["message"])])]),r("div",Y,[d(L,{disabled:s(l).processing,onClick:i[1]||(i[1]=e=>_("close"))},{default:y(()=>[w(m(a.lang().button.close),1)]),_:1},8,["disabled"]),d(D,{class:x(["ml-3",{"opacity-25":s(l).processing}]),disabled:s(l).processing,onClick:v},{default:y(()=>[w(m(s(l).processing?a.lang().button.save+"...":a.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{me as default};

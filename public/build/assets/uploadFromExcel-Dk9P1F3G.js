import{q as S,l as q,k as R,s as b,N as h,T as w,m as E,f as l,o as n,a as d,u as s,Z as F,w as y,b as e,g,t as o,d as P,x as D,e as c,z as B,F as _,p as C}from"./app-Cq1znuMy.js";import{_ as M}from"./AuthenticatedLayout-Bq4Td3tW.js";import{_ as z}from"./Breadcrumb-TEnZiU5P.js";import{_ as L}from"./PrimaryButton-C4YOsuaB.js";import"./vue-datepicker-C1EfqZL1.js";/* empty css             */import{r as U}from"./ArrowUpCircleIcon-CPkiJfqJ.js";import"./index-Dwl7jS47.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-BuN7yXbH.js";/* empty css                                              */const j={class:"space-y-4"},O={key:0,class:"px-4 sm:px-0"},T={class:"rounded-lg overflow-hidden w-fit"},V={class:"flex max-w-screen-xl shadow-lg rounded-lg"},I={class:"px-8 py-6 bg-white rounded-r-lg flex justify-between items-center w-full border border-l-transparent border-gray-200"},$={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},A={class:"text-gray-600 body-font"},H={class:"container px-5 py-12 mx-auto"},Z={key:0,class:"flex flex-wrap -m-4"},G={class:"p-4 w-full sm:w-1/2"},J={class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden"},K={class:"p-6"},Q=["value"],W={class:"w-full"},X={class:"flex items-center flex-wrap my-6"},Y={class:"grid grid-cols-1"},ee={class:"text-gray-500 items-center text-lg md:mb-2 lg:mb-0"},te={class:"text-indigo-600 dark:text-indigo-200 dark:bg-gray-800"},re={class:"text-gray-500 items-center text-lg md:mb-2 lg:mb-0"},ae={class:"text-indigo-600 dark:text-indigo-200 dark:bg-gray-800"},se={class:"text-gray-600 body-font"},oe={class:"container p-5 mx-auto"},ie={class:"flex flex-wrap sm:mx-auto sm:mb-2 -mx-2 dark:text-white dark:bg-gray-800"},le={class:"px-2 w-full"},ne={class:"bg-gray-50 rounded flex p-1 h-full items-center dark:text-white dark:bg-gray-800"},de={class:"title-font font-medium"},ye={__name:"uploadFromExcel",props:{title:String,breadcrumbs:Object,NumEquipos:Number,NumReportes:Number,ini:Date,fin:Date,flash:String,NumReportesRecha:Number,NumReportesSinval:Number,haySinsalario:Number,NumReportesSigo:Number,NumReportesRechaSigo:Number,NumReportesSinvalSigo:Number,NumProveedores:Number,UltimosProveedores:Object},setup(m){const{_:v,debounce:x,pickBy:f}=S,p=m,r=q({respuesta:"",params:{fecha_ini:"",quincena:"",arrayFestivos:""},paramsSigo:{fecha_ini:"",quincena:"",arrayFestivos:"",year:"",month:""},warnn:"",tiposSiigo:[]});R(()=>{}),b(()=>v.cloneDeep(r.params),x(()=>{let a=f(r.params);h.get(route("user.uploadexcel"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},30)),b(()=>v.cloneDeep(r.paramsSigo),x(()=>{let a=f(r.paramsSigo);h.get(route("user.uploadexceSigo"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},30));const i=w({archivo1:null});w({archivo1:null,fecha_ini:"",quincena:1}),E(()=>{});function k(){i.post(route("EquipoUploadExcelPost"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>null,onFinish:()=>null})}const N=[{value:"Codigo",rule:"Ãšnico"},{value:"Descripcion",rule:"Requerida"},{value:"Tipo Fabricante",rule:"Requerida"},{value:"Referencia Fabricante",rule:"Requerida"},{value:"Marca",rule:"Requerida"},{value:"Unidad de Compra",rule:"Requerida"},{value:"Precio de Lista",rule:"Requerida"},{value:"Fecha actualizacion",rule:"Requerida"},{value:"Descuento Basico",rule:"Requerida"},{value:"Descuento Proyectos",rule:"Requerida"},{value:"Precio con Descuento",rule:"Requerida"},{value:"Precio con Descuento Proyecto",rule:"Requerida"},{value:"Precio Ultima Compra",rule:"Opcional"},{value:"Precios de Listas",rule:"Opcional"},{value:"Clasificacion 2 Inventario",rule:"Opcional"},{value:"Ruta Tiempos",rule:"Requerida"},{value:"Tiempos Chapisteria",rule:"Opcional"}];return(a,t)=>(n(),l(_,null,[d(s(F),{title:p.title},null,8,["title"]),d(M,null,{default:y(()=>[d(z,{title:m.title,breadcrumbs:m.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",j,[r.warnn?(n(),l("div",O,[e("div",T,[e("div",V,[t[1]||(t[1]=e("div",{class:"bg-yellow-600 py-4 px-6 rounded-l-lg flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"fill-current text-white",width:"20",height:"20"},[e("path",{"fill-rule":"evenodd",d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})])],-1)),e("div",I,[e("div",null,o(r.warnn?r.warnn:""),1)])])])])):g("",!0),e("div",$,[e("section",A,[e("div",H,[a.can(["isAdmin"])?(n(),l("div",Z,[e("div",G,[e("div",J,[d(s(U),{class:"h-24 lg:h-48 md:h-36 w-full object-cover object-center"}),e("div",K,[t[6]||(t[6]=e("h3",{class:"mx-auto text-center title-font text-xl font-medium text-gray-900 mb-2 dark:text-white dark:bg-gray-800"},"Subir Equipos",-1)),t[7]||(t[7]=e("h2",{class:"mb-4 tracking-widest text-center text-sm title-font font-medium text-gray-400 dark:text-gray-100"},"Formato xlsx",-1)),t[8]||(t[8]=e("p",{class:"leading-relaxed mb-3 dark:text-white dark:bg-gray-800"}," Este formulario necesita la lista de proveedores actualizada, antes de subir los Equipos",-1)),t[9]||(t[9]=e("p",{class:"leading-relaxed my-2 dark:text-white dark:bg-gray-800"}," El archivo no debe pesar mas de 8MB",-1)),e("form",{onSubmit:P(k,["prevent"]),id:"upload",class:"my-6"},[e("input",{type:"file",onInput:t[0]||(t[0]=u=>s(i).archivo1=u.target.files[0]),accept:"application/vnd.openxmlformUpats-officedocument.spreadsheetml.sheet",class:"dark:text-white dark:bg-gray-800"},null,32),s(i).progress?(n(),l("progress",{key:0,value:s(i).progress.percentage,max:"100",class:"rounded-lg mx-auto"},o(s(i).progress.percentage)+"% ",9,Q)):g("",!0),e("div",W,[D(d(L,{disabled:s(i).archivo1==null,class:"rounded-xl my-4 mouse-pointer"},{default:y(()=>[c(o(a.lang().button.subir),1)]),_:1},8,["disabled"]),[[B,a.can(["create user"])]])])],32),e("div",X,[e("div",Y,[e("a",ee,[t[2]||(t[2]=c(" Numero de Equipos: ")),e("span",te,o(p.NumEquipos),1)]),e("a",re,[t[3]||(t[3]=c(" Numero de Proveedores: ")),e("span",ae,o(p.NumProveedores),1)])]),e("section",se,[e("div",oe,[t[5]||(t[5]=e("div",{class:"text-center mb-1"},[e("h1",{class:"text-xl font-medium text-center title-font text-gray-900 mb-4 dark:text-white dark:bg-gray-800"}," Formato del excel "),e("p",{class:"text-base leading-relaxed w-full mx-auto dark:text-white dark:bg-gray-800"}," Solo la primera fila debe ser como se muestra: ")],-1)),e("div",ie,[(n(),l(_,null,C(N,u=>e("div",le,[e("div",ne,[t[4]||(t[4]=e("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",class:"text-indigo-500 w-6 h-6 flex-shrink-0 mr-4",viewBox:"0 0 24 24"},[e("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),c(),e("path",{d:"M22 4L12 14.01l-3-3"})],-1)),e("span",de,o(u.value)+" : "+o(u.rule),1)])])),64))])])])])])])])])):g("",!0)])])])])]),_:1})],64))}};export{ye as default};

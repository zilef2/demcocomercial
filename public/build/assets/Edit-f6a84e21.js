import{k as S,T as b,j,l as C,f as r,a,w as m,o as c,b as t,t as p,F as $,m as M,u as d,d as y,n as U,e as B}from"./app-551012d8.js";import{_}from"./InputError-23c0a787.js";import{_ as h}from"./InputLabel-8615b764.js";import{M as F}from"./Modal-e8455b5b.js";import{_ as N}from"./PrimaryButton-bd076b11.js";import{_ as z}from"./SecondaryButton-ec5b0153.js";import{_ as V}from"./TextInput-4b8270d6.js";import{C as O}from"./vue-select.es-e7a5a940.js";/* empty css                   */import"./vue-datepicker-b15d2936.js";const q={class:"space-y-6"},T={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},x={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={key:0,id:"SelectVue"},D={name:"labelSelectVue"},L={key:1,id:"SelectVue"},P={key:2,class:""},R={class:"my-8 flex justify-end"},ee={__name:"Edit",props:{show:Boolean,title:String,generica:Object,titulos:Object},emits:["close"],setup(f,{emit:u}){const o=f,g=S({}),k=o.titulos.map(l=>l.order),s=b({...Object.fromEntries(k.map(l=>[l,""]))});j(()=>{if(o.numberPermissions>8){const l=Math.floor(Math.random()*9+0);s.nombre="admin orden trabajo "+l,s.codigo=l}});const v=[];o.titulos.forEach(l=>{v.push({idd:l.order,label:l.label,type:l.type,value:s[l.order]})}),C(()=>{o.show&&(s.errors={},o.titulos.forEach(l=>{s[l.order]=o.generica[l.order]}))});const w=()=>{var l;s.put(route("pieza.update",(l=o.generica)==null?void 0:l.id),{preserveScroll:!0,onSuccess:()=>{u("close"),s.reset()},onError:()=>null,onFinish:()=>null})};return(l,n)=>(c(),r("section",q,[a(F,{show:o.show,onClose:n[2]||(n[2]=e=>u("close"))},{default:m(()=>[t("form",{class:"p-6",onSubmit:n[1]||(n[1]=B((...e)=>l.create&&l.create(...e),["prevent"]))},[t("h2",T,p(l.lang().label.edit)+" "+p(o.title),1),t("div",x,[(c(),r($,null,M(v,(e,E)=>t("div",{key:E},[e.type=="id"?(c(),r("div",A,[t("label",D,p(e.label),1),a(d(O),{options:g[e.idd],label:"title",modelValue:d(s)[e.idd],"onUpdate:modelValue":i=>d(s)[e.idd]=i,value:g[e.idd][o.generica.pieza_id]},null,8,["options","modelValue","onUpdate:modelValue","value"]),a(_,{class:"mt-2",message:d(s).errors[e.idd]},null,8,["message"])])):e.type=="time"?(c(),r("div",L,[a(h,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:d(s)[e.idd],"onUpdate:modelValue":i=>d(s)[e.idd]=i,required:"",placeholder:e.label,error:d(s).errors[e.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(_,{class:"mt-2",message:d(s).errors[e.idd]},null,8,["message"])])):(c(),r("div",P,[a(h,{for:e.label,value:l.lang().label[e.label]},null,8,["for","value"]),a(V,{id:e.idd,type:e.type,class:"mt-1 block w-full",modelValue:d(s)[e.idd],"onUpdate:modelValue":i=>d(s)[e.idd]=i,required:"",placeholder:e.label,error:d(s).errors[e.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),a(_,{class:"mt-2",message:d(s).errors[e.idd]},null,8,["message"])]))])),64))]),t("div",R,[a(z,{disabled:d(s).processing,onClick:n[0]||(n[0]=e=>u("close"))},{default:m(()=>[y(p(l.lang().button.close),1)]),_:1},8,["disabled"]),a(N,{class:U(["ml-3",{"opacity-25":d(s).processing}]),disabled:d(s).processing,onClick:w},{default:m(()=>[y(p(d(s).processing?l.lang().button.save+"...":l.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{ee as default};
